{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"// server/index.js\nconst express = require(\"express\");\n\nvar http = require('http');\n\nvar path = require(\"path\");\n\nvar sha256 = require(\"crypto-js/sha256\");\n\nvar bodyParser = require('body-parser');\n\nvar helmet = require('helmet');\n\nvar rateLimit = require(\"express-rate-limit\");\n\nconst PORT = process.env.PORT || 3001;\n\nconst cors = require('cors');\n\nconst {\n  randomUUID\n} = require(\"crypto\"); //import routes\n\n\nconst userMethods = require('./routes/auth.js');\n\nconst polytechnicMethods = require('./routes/polytechnics.js');\n\nconst polytechnicCourseMethods = require('./routes/polytechnicCourse.js');\n\nconst polytechnicModuleMethods = require('./routes/polytechnicModule.js');\n\nconst universityMethods = require('./routes/university.js');\n\nconst app = express();\nvar server = http.createServer(app);\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000,\n  // 15 minutes\n  max: 100 // limit each IP to 100 requests per windowMs\n\n});\napp.use(bodyParser.urlencoded({\n  extended: false\n}));\napp.use(bodyParser.json());\napp.use(helmet());\napp.use(cors());\napp.use(limiter); //Use methods\n\napp.use(\"/users\", userMethods);\napp.use(\"/polytechnics\", polytechnicMethods);\napp.use(\"/polytechnicCourses\", polytechnicCourseMethods);\napp.use(\"/polytechnicModules\", polytechnicModuleMethods);\napp.use(\"/universities\", universityMethods);\napp.listen(PORT, () => {\n  console.log(`Server listening on ${PORT}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImh0dHAiLCJwYXRoIiwic2hhMjU2IiwiYm9keVBhcnNlciIsImhlbG1ldCIsInJhdGVMaW1pdCIsIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwiY29ycyIsInJhbmRvbVVVSUQiLCJ1c2VyTWV0aG9kcyIsInBvbHl0ZWNobmljTWV0aG9kcyIsInBvbHl0ZWNobmljQ291cnNlTWV0aG9kcyIsInBvbHl0ZWNobmljTW9kdWxlTWV0aG9kcyIsInVuaXZlcnNpdHlNZXRob2RzIiwiYXBwIiwic2VydmVyIiwiY3JlYXRlU2VydmVyIiwibGltaXRlciIsIndpbmRvd01zIiwibWF4IiwidXNlIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IkQ6XFxJQ1QyMTAzLVByb2pcXEV4ZW1wdGlvbkNoZWNrZXJcXHNlcnZlclxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzZXJ2ZXIvaW5kZXguanNcclxuXHJcblxyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcblxyXG52YXIgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcclxudmFyIHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxudmFyIHNoYTI1NiA9IHJlcXVpcmUoXCJjcnlwdG8tanMvc2hhMjU2XCIpO1xyXG52YXIgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XHJcbnZhciBoZWxtZXQgPSByZXF1aXJlKCdoZWxtZXQnKTtcclxudmFyIHJhdGVMaW1pdCA9IHJlcXVpcmUoXCJleHByZXNzLXJhdGUtbGltaXRcIik7XHJcblxyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAxO1xyXG5cclxuY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKTtcclxuY29uc3QgeyByYW5kb21VVUlEIH0gPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xyXG5cclxuLy9pbXBvcnQgcm91dGVzXHJcbmNvbnN0IHVzZXJNZXRob2RzID0gcmVxdWlyZSgnLi9yb3V0ZXMvYXV0aC5qcycpO1xyXG5jb25zdCBwb2x5dGVjaG5pY01ldGhvZHMgPSByZXF1aXJlKCcuL3JvdXRlcy9wb2x5dGVjaG5pY3MuanMnKTtcclxuY29uc3QgcG9seXRlY2huaWNDb3Vyc2VNZXRob2RzID0gcmVxdWlyZSgnLi9yb3V0ZXMvcG9seXRlY2huaWNDb3Vyc2UuanMnKTtcclxuY29uc3QgcG9seXRlY2huaWNNb2R1bGVNZXRob2RzID0gcmVxdWlyZSgnLi9yb3V0ZXMvcG9seXRlY2huaWNNb2R1bGUuanMnKTtcclxuXHJcbmNvbnN0IHVuaXZlcnNpdHlNZXRob2RzID0gcmVxdWlyZSgnLi9yb3V0ZXMvdW5pdmVyc2l0eS5qcycpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG52YXIgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcclxuXHJcbmNvbnN0IGxpbWl0ZXIgPSByYXRlTGltaXQoe1xyXG4gICAgd2luZG93TXM6IDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXHJcbiAgICBtYXg6IDEwMCAvLyBsaW1pdCBlYWNoIElQIHRvIDEwMCByZXF1ZXN0cyBwZXIgd2luZG93TXNcclxufSk7XHJcblxyXG5cclxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxyXG5hcHAudXNlKGhlbG1ldCgpKTtcclxuYXBwLnVzZShjb3JzKCkpO1xyXG5hcHAudXNlKGxpbWl0ZXIpO1xyXG5cclxuXHJcbi8vVXNlIG1ldGhvZHNcclxuYXBwLnVzZShcIi91c2Vyc1wiLCB1c2VyTWV0aG9kcyk7XHJcbmFwcC51c2UoXCIvcG9seXRlY2huaWNzXCIsIHBvbHl0ZWNobmljTWV0aG9kcyk7XHJcbmFwcC51c2UoXCIvcG9seXRlY2huaWNDb3Vyc2VzXCIsIHBvbHl0ZWNobmljQ291cnNlTWV0aG9kcyk7XHJcbmFwcC51c2UoXCIvcG9seXRlY2huaWNNb2R1bGVzXCIsIHBvbHl0ZWNobmljTW9kdWxlTWV0aG9kcyk7XHJcbmFwcC51c2UoXCIvdW5pdmVyc2l0aWVzXCIsIHVuaXZlcnNpdHlNZXRob2RzKTtcclxuXHJcbmFwcC5saXN0ZW4oUE9SVCwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYFNlcnZlciBsaXN0ZW5pbmcgb24gJHtQT1JUfWApO1xyXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBR0EsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxJQUFJQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQWxCOztBQUNBLElBQUlFLElBQUksR0FBR0YsT0FBTyxDQUFDLE1BQUQsQ0FBbEI7O0FBQ0EsSUFBSUcsTUFBTSxHQUFHSCxPQUFPLENBQUMsa0JBQUQsQ0FBcEI7O0FBQ0EsSUFBSUksVUFBVSxHQUFHSixPQUFPLENBQUMsYUFBRCxDQUF4Qjs7QUFDQSxJQUFJSyxNQUFNLEdBQUdMLE9BQU8sQ0FBQyxRQUFELENBQXBCOztBQUNBLElBQUlNLFNBQVMsR0FBR04sT0FBTyxDQUFDLG9CQUFELENBQXZCOztBQUVBLE1BQU1PLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLElBQVosSUFBb0IsSUFBakM7O0FBRUEsTUFBTUcsSUFBSSxHQUFHVixPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNO0VBQUVXO0FBQUYsSUFBaUJYLE9BQU8sQ0FBQyxRQUFELENBQTlCLEMsQ0FFQTs7O0FBQ0EsTUFBTVksV0FBVyxHQUFHWixPQUFPLENBQUMsa0JBQUQsQ0FBM0I7O0FBQ0EsTUFBTWEsa0JBQWtCLEdBQUdiLE9BQU8sQ0FBQywwQkFBRCxDQUFsQzs7QUFDQSxNQUFNYyx3QkFBd0IsR0FBR2QsT0FBTyxDQUFDLCtCQUFELENBQXhDOztBQUNBLE1BQU1lLHdCQUF3QixHQUFHZixPQUFPLENBQUMsK0JBQUQsQ0FBeEM7O0FBRUEsTUFBTWdCLGlCQUFpQixHQUFHaEIsT0FBTyxDQUFDLHdCQUFELENBQWpDOztBQUVBLE1BQU1pQixHQUFHLEdBQUdsQixPQUFPLEVBQW5CO0FBQ0EsSUFBSW1CLE1BQU0sR0FBR2pCLElBQUksQ0FBQ2tCLFlBQUwsQ0FBa0JGLEdBQWxCLENBQWI7QUFFQSxNQUFNRyxPQUFPLEdBQUdkLFNBQVMsQ0FBQztFQUN0QmUsUUFBUSxFQUFFLEtBQUssRUFBTCxHQUFVLElBREU7RUFDSTtFQUMxQkMsR0FBRyxFQUFFLEdBRmlCLENBRWI7O0FBRmEsQ0FBRCxDQUF6QjtBQU1BTCxHQUFHLENBQUNNLEdBQUosQ0FBUW5CLFVBQVUsQ0FBQ29CLFVBQVgsQ0FBc0I7RUFBRUMsUUFBUSxFQUFFO0FBQVosQ0FBdEIsQ0FBUjtBQUNBUixHQUFHLENBQUNNLEdBQUosQ0FBUW5CLFVBQVUsQ0FBQ3NCLElBQVgsRUFBUjtBQUNBVCxHQUFHLENBQUNNLEdBQUosQ0FBUWxCLE1BQU0sRUFBZDtBQUNBWSxHQUFHLENBQUNNLEdBQUosQ0FBUWIsSUFBSSxFQUFaO0FBQ0FPLEdBQUcsQ0FBQ00sR0FBSixDQUFRSCxPQUFSLEUsQ0FHQTs7QUFDQUgsR0FBRyxDQUFDTSxHQUFKLENBQVEsUUFBUixFQUFrQlgsV0FBbEI7QUFDQUssR0FBRyxDQUFDTSxHQUFKLENBQVEsZUFBUixFQUF5QlYsa0JBQXpCO0FBQ0FJLEdBQUcsQ0FBQ00sR0FBSixDQUFRLHFCQUFSLEVBQStCVCx3QkFBL0I7QUFDQUcsR0FBRyxDQUFDTSxHQUFKLENBQVEscUJBQVIsRUFBK0JSLHdCQUEvQjtBQUNBRSxHQUFHLENBQUNNLEdBQUosQ0FBUSxlQUFSLEVBQXlCUCxpQkFBekI7QUFFQUMsR0FBRyxDQUFDVSxNQUFKLENBQVdwQixJQUFYLEVBQWlCLE1BQU07RUFDbkJxQixPQUFPLENBQUNDLEdBQVIsQ0FBYSx1QkFBc0J0QixJQUFLLEVBQXhDO0FBQ0gsQ0FGRCJ9","map":{"version":3,"names":["express","require","http","path","sha256","bodyParser","helmet","rateLimit","PORT","process","env","cors","randomUUID","userMethods","polytechnicMethods","polytechnicCourseMethods","polytechnicModuleMethods","universityMethods","app","server","createServer","limiter","windowMs","max","use","urlencoded","extended","json","listen","console","log"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\","sources":["index.js"],"sourcesContent":["// server/index.js\r\n\r\n\r\nconst express = require(\"express\");\r\n\r\nvar http = require('http');\r\nvar path = require(\"path\");\r\nvar sha256 = require(\"crypto-js/sha256\");\r\nvar bodyParser = require('body-parser');\r\nvar helmet = require('helmet');\r\nvar rateLimit = require(\"express-rate-limit\");\r\n\r\nconst PORT = process.env.PORT || 3001;\r\n\r\nconst cors = require('cors');\r\nconst { randomUUID } = require(\"crypto\");\r\n\r\n//import routes\r\nconst userMethods = require('./routes/auth.js');\r\nconst polytechnicMethods = require('./routes/polytechnics.js');\r\nconst polytechnicCourseMethods = require('./routes/polytechnicCourse.js');\r\nconst polytechnicModuleMethods = require('./routes/polytechnicModule.js');\r\n\r\nconst universityMethods = require('./routes/university.js');\r\n\r\nconst app = express();\r\nvar server = http.createServer(app);\r\n\r\nconst limiter = rateLimit({\r\n    windowMs: 15 * 60 * 1000, // 15 minutes\r\n    max: 100 // limit each IP to 100 requests per windowMs\r\n});\r\n\r\n\r\napp.use(bodyParser.urlencoded({ extended: false }));\r\napp.use(bodyParser.json())\r\napp.use(helmet());\r\napp.use(cors());\r\napp.use(limiter);\r\n\r\n\r\n//Use methods\r\napp.use(\"/users\", userMethods);\r\napp.use(\"/polytechnics\", polytechnicMethods);\r\napp.use(\"/polytechnicCourses\", polytechnicCourseMethods);\r\napp.use(\"/polytechnicModules\", polytechnicModuleMethods);\r\napp.use(\"/universities\", universityMethods);\r\n\r\napp.listen(PORT, () => {\r\n    console.log(`Server listening on ${PORT}`);\r\n});"],"mappings":"AAAA;AAGA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,IAAIC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIE,IAAI,GAAGF,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIG,MAAM,GAAGH,OAAO,CAAC,kBAAD,CAApB;;AACA,IAAII,UAAU,GAAGJ,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIK,MAAM,GAAGL,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIM,SAAS,GAAGN,OAAO,CAAC,oBAAD,CAAvB;;AAEA,MAAMO,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;;AAEA,MAAMG,IAAI,GAAGV,OAAO,CAAC,MAAD,CAApB;;AACA,MAAM;EAAEW;AAAF,IAAiBX,OAAO,CAAC,QAAD,CAA9B,C,CAEA;;;AACA,MAAMY,WAAW,GAAGZ,OAAO,CAAC,kBAAD,CAA3B;;AACA,MAAMa,kBAAkB,GAAGb,OAAO,CAAC,0BAAD,CAAlC;;AACA,MAAMc,wBAAwB,GAAGd,OAAO,CAAC,+BAAD,CAAxC;;AACA,MAAMe,wBAAwB,GAAGf,OAAO,CAAC,+BAAD,CAAxC;;AAEA,MAAMgB,iBAAiB,GAAGhB,OAAO,CAAC,wBAAD,CAAjC;;AAEA,MAAMiB,GAAG,GAAGlB,OAAO,EAAnB;AACA,IAAImB,MAAM,GAAGjB,IAAI,CAACkB,YAAL,CAAkBF,GAAlB,CAAb;AAEA,MAAMG,OAAO,GAAGd,SAAS,CAAC;EACtBe,QAAQ,EAAE,KAAK,EAAL,GAAU,IADE;EACI;EAC1BC,GAAG,EAAE,GAFiB,CAEb;;AAFa,CAAD,CAAzB;AAMAL,GAAG,CAACM,GAAJ,CAAQnB,UAAU,CAACoB,UAAX,CAAsB;EAAEC,QAAQ,EAAE;AAAZ,CAAtB,CAAR;AACAR,GAAG,CAACM,GAAJ,CAAQnB,UAAU,CAACsB,IAAX,EAAR;AACAT,GAAG,CAACM,GAAJ,CAAQlB,MAAM,EAAd;AACAY,GAAG,CAACM,GAAJ,CAAQb,IAAI,EAAZ;AACAO,GAAG,CAACM,GAAJ,CAAQH,OAAR,E,CAGA;;AACAH,GAAG,CAACM,GAAJ,CAAQ,QAAR,EAAkBX,WAAlB;AACAK,GAAG,CAACM,GAAJ,CAAQ,eAAR,EAAyBV,kBAAzB;AACAI,GAAG,CAACM,GAAJ,CAAQ,qBAAR,EAA+BT,wBAA/B;AACAG,GAAG,CAACM,GAAJ,CAAQ,qBAAR,EAA+BR,wBAA/B;AACAE,GAAG,CAACM,GAAJ,CAAQ,eAAR,EAAyBP,iBAAzB;AAEAC,GAAG,CAACU,MAAJ,CAAWpB,IAAX,EAAiB,MAAM;EACnBqB,OAAO,CAACC,GAAR,CAAa,uBAAsBtB,IAAK,EAAxC;AACH,CAFD"}},"mtime":1662913888836},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const express = require(\"express\");\n\nconst authRoutes = require(\"../controller/authController.js\");\n\nconst router = express.Router();\nrouter.post(\"/allUsers\", authRoutes.allUsers);\nrouter.post(\"/create\", authRoutes.create);\nrouter.post(\"/deleteUser\", authRoutes.deleteUser);\nrouter.post(\"/updateUser\", authRoutes.updateUser);\nrouter.post(\"/login\", authRoutes.login);\nrouter.post(\"/settings\", authRoutes.settings);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImF1dGhSb3V0ZXMiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiYWxsVXNlcnMiLCJjcmVhdGUiLCJkZWxldGVVc2VyIiwidXBkYXRlVXNlciIsImxvZ2luIiwic2V0dGluZ3MiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcSUNUMjEwMy1Qcm9qXFxFeGVtcHRpb25DaGVja2VyXFxzZXJ2ZXJcXHJvdXRlc1xcIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuXHJcbmNvbnN0IGF1dGhSb3V0ZXMgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9hdXRoQ29udHJvbGxlci5qc1wiKTtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9hbGxVc2Vyc1wiLCBhdXRoUm91dGVzLmFsbFVzZXJzKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2NyZWF0ZVwiLCBhdXRoUm91dGVzLmNyZWF0ZSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9kZWxldGVVc2VyXCIsIGF1dGhSb3V0ZXMuZGVsZXRlVXNlcik7XHJcblxyXG5yb3V0ZXIucG9zdChcIi91cGRhdGVVc2VyXCIsIGF1dGhSb3V0ZXMudXBkYXRlVXNlcik7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBhdXRoUm91dGVzLmxvZ2luKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3NldHRpbmdzXCIsIGF1dGhSb3V0ZXMuc2V0dGluZ3MpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyxpQ0FBRCxDQUExQjs7QUFFQSxNQUFNRSxNQUFNLEdBQUdILE9BQU8sQ0FBQ0ksTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFdBQVosRUFBeUJILFVBQVUsQ0FBQ0ksUUFBcEM7QUFFQUgsTUFBTSxDQUFDRSxJQUFQLENBQVksU0FBWixFQUF1QkgsVUFBVSxDQUFDSyxNQUFsQztBQUVBSixNQUFNLENBQUNFLElBQVAsQ0FBWSxhQUFaLEVBQTJCSCxVQUFVLENBQUNNLFVBQXRDO0FBRUFMLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLGFBQVosRUFBMkJILFVBQVUsQ0FBQ08sVUFBdEM7QUFFQU4sTUFBTSxDQUFDRSxJQUFQLENBQVksUUFBWixFQUFzQkgsVUFBVSxDQUFDUSxLQUFqQztBQUVBUCxNQUFNLENBQUNFLElBQVAsQ0FBWSxXQUFaLEVBQXlCSCxVQUFVLENBQUNTLFFBQXBDO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlYsTUFBakIifQ==","map":{"version":3,"names":["express","require","authRoutes","router","Router","post","allUsers","create","deleteUser","updateUser","login","settings","module","exports"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\routes\\","sources":["auth.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\nconst authRoutes = require(\"../controller/authController.js\");\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/allUsers\", authRoutes.allUsers);\r\n\r\nrouter.post(\"/create\", authRoutes.create);\r\n\r\nrouter.post(\"/deleteUser\", authRoutes.deleteUser);\r\n\r\nrouter.post(\"/updateUser\", authRoutes.updateUser);\r\n\r\nrouter.post(\"/login\", authRoutes.login);\r\n\r\nrouter.post(\"/settings\", authRoutes.settings);\r\n\r\nmodule.exports = router;\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,UAAU,GAAGD,OAAO,CAAC,iCAAD,CAA1B;;AAEA,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBH,UAAU,CAACI,QAApC;AAEAH,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,UAAU,CAACK,MAAlC;AAEAJ,MAAM,CAACE,IAAP,CAAY,aAAZ,EAA2BH,UAAU,CAACM,UAAtC;AAEAL,MAAM,CAACE,IAAP,CAAY,aAAZ,EAA2BH,UAAU,CAACO,UAAtC;AAEAN,MAAM,CAACE,IAAP,CAAY,QAAZ,EAAsBH,UAAU,CAACQ,KAAjC;AAEAP,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBH,UAAU,CAACS,QAApC;AAEAC,MAAM,CAACC,OAAP,GAAiBV,MAAjB"}},"mtime":1662819956294},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\authController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const {\n  SHA256\n} = require(\"crypto-js\");\n\nconst knex = require(\"../database.js\");\n\nexports.allUsers = async (req, res) => {\n  knex.select(\"*\").from(\"Users\").then(data => {\n    res.json({\n      success: true,\n      data,\n      message: \"Users fetched!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.create = async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n  knex.insert({\n    username: username,\n    password: SHA256(password),\n    role: \"user\"\n  }).into(\"Users\").then(data => {\n    knex.select(\"*\").from(\"Users\").where({\n      username: username\n    }).then(data => {\n      res.json({\n        success: true,\n        data,\n        message: \"User created!\"\n      });\n    }).catch(err => {\n      res.json({\n        success: false,\n        message: err.message\n      });\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.deleteUser = async (req, res) => {\n  const {\n    username\n  } = req.body;\n  knex.delete().from(\"Users\").where({\n    username: username\n  }).then(data => {\n    res.json({\n      success: true,\n      data,\n      message: \"User deleted!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.updateUser = async (req, res) => {\n  const {\n    uid,\n    username,\n    password,\n    role,\n    polytechnicCourse\n  } = req.body;\n  knex.update({\n    uid: uid,\n    username: username,\n    password: password,\n    role: role,\n    polytechnicCourse: req.body[\"Polytechnic Course\"]\n  }).from(\"Users\").where({\n    uid: uid\n  }).then(data => {\n    knex.select(\"*\").from(\"Users\").then(data => {\n      res.json({\n        success: true,\n        data,\n        message: \"Users fetched!\"\n      });\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.login = async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n  knex.select(\"*\").from(\"Users\").where({\n    username: username,\n    password: SHA256(password)\n  }).then(data => {\n    if (data.length == 0) {\n      res.json({\n        success: false,\n        message: \"Username or password is incorrect!\"\n      });\n    } else {\n      res.json({\n        success: true,\n        data,\n        message: \"Login successful!\"\n      });\n    }\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.settings = async (req, res) => {\n  polytechnicCourses = await knex.select(\"*\").from(\"PolytechnicCourses\").then(polyCourseData => {\n    var tempCourseList = [];\n    console.log(polyCourseData);\n\n    for (polycourse in polyCourseData) {\n      tempCourseList.push({\n        label: polyCourseData[polycourse][\"course code\"] + \" - \" + polyCourseData[polycourse][\"course name\"],\n        value: polyCourseData[polycourse][\"cid\"]\n      });\n    }\n\n    console.log(tempCourseList);\n    return tempCourseList;\n  });\n  const columnSettings = {\n    // Configures the headers of the table\n    // Pls match header names with column names (case sensitive!)\n    headers: [\"uid\", \"username\", \"role\", \"password\"]\n  };\n  const fieldSettings = {\n    // Configures the datatype of the fields and their editablility\n    \"uid\": {\n      type: \"number\",\n      editable: false,\n      displayLabel: \"User ID\",\n      primaryKey: true\n    },\n    \"username\": {\n      type: \"text\",\n      editable: true,\n      displayLabel: \"Username\"\n    },\n    \"role\": {\n      type: \"text\",\n      editable: true,\n      displayLabel: \"Role\"\n    },\n    \"password\": {\n      type: \"password\",\n      editable: false,\n      displayLabel: \"Password\"\n    },\n    \"polytechnicCourse\": {\n      type: \"dropdown\",\n      editable: true,\n      displayLabel: \"Polytechnic Course\",\n      options: polytechnicCourses\n    }\n  };\n  const settings = {\n    columnSettings: columnSettings,\n    fieldSettings: fieldSettings\n  };\n  res.json({\n    success: true,\n    settings: settings,\n    message: \"Settings fetched!\"\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTSEEyNTYiLCJyZXF1aXJlIiwia25leCIsImV4cG9ydHMiLCJhbGxVc2VycyIsInJlcSIsInJlcyIsInNlbGVjdCIsImZyb20iLCJ0aGVuIiwiZGF0YSIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsImNhdGNoIiwiZXJyIiwiY3JlYXRlIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImJvZHkiLCJpbnNlcnQiLCJyb2xlIiwiaW50byIsIndoZXJlIiwiZGVsZXRlVXNlciIsImRlbGV0ZSIsInVwZGF0ZVVzZXIiLCJ1aWQiLCJwb2x5dGVjaG5pY0NvdXJzZSIsInVwZGF0ZSIsImxvZ2luIiwibGVuZ3RoIiwic2V0dGluZ3MiLCJwb2x5dGVjaG5pY0NvdXJzZXMiLCJwb2x5Q291cnNlRGF0YSIsInRlbXBDb3Vyc2VMaXN0IiwiY29uc29sZSIsImxvZyIsInBvbHljb3Vyc2UiLCJwdXNoIiwibGFiZWwiLCJ2YWx1ZSIsImNvbHVtblNldHRpbmdzIiwiaGVhZGVycyIsImZpZWxkU2V0dGluZ3MiLCJ0eXBlIiwiZWRpdGFibGUiLCJkaXNwbGF5TGFiZWwiLCJwcmltYXJ5S2V5Iiwib3B0aW9ucyJdLCJzb3VyY2VSb290IjoiRDpcXElDVDIxMDMtUHJvalxcRXhlbXB0aW9uQ2hlY2tlclxcc2VydmVyXFxjb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbImF1dGhDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgU0hBMjU2IH0gPSByZXF1aXJlKFwiY3J5cHRvLWpzXCIpO1xyXG5jb25zdCBrbmV4ID0gcmVxdWlyZShcIi4uL2RhdGFiYXNlLmpzXCIpO1xyXG5cclxuZXhwb3J0cy5hbGxVc2VycyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAga25leC5zZWxlY3QoXCIqXCIpLmZyb20oXCJVc2Vyc1wiKS50aGVuKGRhdGEgPT57XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6dHJ1ZSwgZGF0YSwgbWVzc2FnZTogXCJVc2VycyBmZXRjaGVkIVwifSk7XHJcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOmZhbHNlLCBtZXNzYWdlOiBlcnIubWVzc2FnZX0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydHMuY3JlYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7dXNlcm5hbWUsIHBhc3N3b3JkfSA9IHJlcS5ib2R5O1xyXG4gICAga25leC5pbnNlcnQoe3VzZXJuYW1lOiB1c2VybmFtZSwgcGFzc3dvcmQ6IFNIQTI1NihwYXNzd29yZCksIHJvbGU6IFwidXNlclwifSkuaW50byhcIlVzZXJzXCIpLnRoZW4oZGF0YSA9PntcclxuICAgICAgICBrbmV4LnNlbGVjdChcIipcIikuZnJvbShcIlVzZXJzXCIpLndoZXJlKHt1c2VybmFtZTp1c2VybmFtZX0pLnRoZW4oZGF0YSA9PntcclxuICAgICAgICByZXMuanNvbih7c3VjY2Vzczp0cnVlLCBkYXRhLCBtZXNzYWdlOiBcIlVzZXIgY3JlYXRlZCFcIn0pO1xyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOmZhbHNlLCBtZXNzYWdlOiBlcnIubWVzc2FnZX0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOmZhbHNlLCBtZXNzYWdlOiBlcnIubWVzc2FnZX0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydHMuZGVsZXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qge3VzZXJuYW1lfSA9IHJlcS5ib2R5O1xyXG4gICAga25leC5kZWxldGUoKS5mcm9tKFwiVXNlcnNcIikud2hlcmUoe3VzZXJuYW1lOiB1c2VybmFtZX0pLnRoZW4oZGF0YSA9PntcclxuICAgICAgICByZXMuanNvbih7c3VjY2Vzczp0cnVlLCBkYXRhLCBtZXNzYWdlOiBcIlVzZXIgZGVsZXRlZCFcIn0pO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuanNvbih7c3VjY2VzczpmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLnVwZGF0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHt1aWQsIHVzZXJuYW1lLCBwYXNzd29yZCwgcm9sZSwgcG9seXRlY2huaWNDb3Vyc2V9ID0gcmVxLmJvZHk7XHJcbiAgICBrbmV4LnVwZGF0ZSh7dWlkOiB1aWQsIHVzZXJuYW1lOnVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmQsIHJvbGU6IHJvbGUsIHBvbHl0ZWNobmljQ291cnNlOiByZXEuYm9keVtcIlBvbHl0ZWNobmljIENvdXJzZVwiXX0pLmZyb20oXCJVc2Vyc1wiKS53aGVyZSh7dWlkOiB1aWR9KS50aGVuKGRhdGEgPT57XHJcbiAgICAgICAga25leC5zZWxlY3QoXCIqXCIpLmZyb20oXCJVc2Vyc1wiKS50aGVuKGRhdGEgPT57IFxyXG4gICAgICAgICAgICByZXMuanNvbih7c3VjY2Vzczp0cnVlLCBkYXRhLCBtZXNzYWdlOiBcIlVzZXJzIGZldGNoZWQhXCJ9KTtcclxuICAgICAgICB9KVxyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuanNvbih7c3VjY2VzczpmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLmxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7dXNlcm5hbWUsIHBhc3N3b3JkfSA9IHJlcS5ib2R5O1xyXG4gICAga25leC5zZWxlY3QoXCIqXCIpLmZyb20oXCJVc2Vyc1wiKS53aGVyZSh7dXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogU0hBMjU2KHBhc3N3b3JkKX0pLnRoZW4oZGF0YSA9PntcclxuICAgICAgICBpZihkYXRhLmxlbmd0aCA9PSAwKXtcclxuICAgICAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6ZmFsc2UsIG1lc3NhZ2U6IFwiVXNlcm5hbWUgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0IVwifSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOnRydWUsIGRhdGEsIG1lc3NhZ2U6IFwiTG9naW4gc3VjY2Vzc2Z1bCFcIn0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6ZmFsc2UsIG1lc3NhZ2U6IGVyci5tZXNzYWdlfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0cy5zZXR0aW5ncyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgcG9seXRlY2huaWNDb3Vyc2VzID0gYXdhaXQga25leC5zZWxlY3QoXCIqXCIpLmZyb20oXCJQb2x5dGVjaG5pY0NvdXJzZXNcIikudGhlbihwb2x5Q291cnNlRGF0YSA9PntcclxuICAgICAgICB2YXIgdGVtcENvdXJzZUxpc3QgPSBbXTtcclxuICAgICAgICBjb25zb2xlLmxvZyhwb2x5Q291cnNlRGF0YSk7XHJcbiAgICAgICAgZm9yKHBvbHljb3Vyc2UgaW4gcG9seUNvdXJzZURhdGEpe1xyXG4gICAgICAgICAgICB0ZW1wQ291cnNlTGlzdC5wdXNoKHtsYWJlbDogcG9seUNvdXJzZURhdGFbcG9seWNvdXJzZV1bXCJjb3Vyc2UgY29kZVwiXSArIFwiIC0gXCIgKyAgcG9seUNvdXJzZURhdGFbcG9seWNvdXJzZV1bXCJjb3Vyc2UgbmFtZVwiXSwgdmFsdWU6ICBwb2x5Q291cnNlRGF0YVtwb2x5Y291cnNlXVtcImNpZFwiXX0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyh0ZW1wQ291cnNlTGlzdClcclxuICAgICAgICByZXR1cm4gdGVtcENvdXJzZUxpc3Q7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBjb2x1bW5TZXR0aW5ncyA9IHtcclxuICAgICAgICAvLyBDb25maWd1cmVzIHRoZSBoZWFkZXJzIG9mIHRoZSB0YWJsZVxyXG4gICAgICAgIC8vIFBscyBtYXRjaCBoZWFkZXIgbmFtZXMgd2l0aCBjb2x1bW4gbmFtZXMgKGNhc2Ugc2Vuc2l0aXZlISlcclxuICAgICAgICBoZWFkZXJzOiBbXHJcbiAgICAgICAgICAgIFwidWlkXCIsXHJcbiAgICAgICAgICAgIFwidXNlcm5hbWVcIixcclxuICAgICAgICAgICAgXCJyb2xlXCIsXHJcbiAgICAgICAgICAgIFwicGFzc3dvcmRcIlxyXG4gICAgICAgIF1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmaWVsZFNldHRpbmdzID0ge1xyXG4gICAgICAgIC8vIENvbmZpZ3VyZXMgdGhlIGRhdGF0eXBlIG9mIHRoZSBmaWVsZHMgYW5kIHRoZWlyIGVkaXRhYmxpbGl0eVxyXG4gICAgICAgIFwidWlkXCI6e1xyXG4gICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTpmYWxzZSxcclxuICAgICAgICAgICAgZGlzcGxheUxhYmVsOiBcIlVzZXIgSURcIixcclxuICAgICAgICAgICAgcHJpbWFyeUtleTogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJ1c2VybmFtZVwiOntcclxuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgIGVkaXRhYmxlOnRydWUsXHJcbiAgICAgICAgICAgIGRpc3BsYXlMYWJlbDogXCJVc2VybmFtZVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJyb2xlXCI6e1xyXG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgZWRpdGFibGU6dHJ1ZSxcclxuICAgICAgICAgICAgZGlzcGxheUxhYmVsOiBcIlJvbGVcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwicGFzc3dvcmRcIjp7XHJcbiAgICAgICAgICAgIHR5cGU6IFwicGFzc3dvcmRcIixcclxuICAgICAgICAgICAgZWRpdGFibGU6ZmFsc2UsXHJcbiAgICAgICAgICAgIGRpc3BsYXlMYWJlbDogXCJQYXNzd29yZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJwb2x5dGVjaG5pY0NvdXJzZVwiOntcclxuICAgICAgICAgICAgdHlwZTogXCJkcm9wZG93blwiLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTp0cnVlLFxyXG4gICAgICAgICAgICBkaXNwbGF5TGFiZWw6IFwiUG9seXRlY2huaWMgQ291cnNlXCIsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IHBvbHl0ZWNobmljQ291cnNlcyxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgICAgICAgY29sdW1uU2V0dGluZ3M6IGNvbHVtblNldHRpbmdzLFxyXG4gICAgICAgIGZpZWxkU2V0dGluZ3M6IGZpZWxkU2V0dGluZ3NcclxuICAgIH1cclxuXHJcbiAgICByZXMuanNvbih7c3VjY2VzcyA6IHRydWUsIHNldHRpbmdzOiBzZXR0aW5ncywgbWVzc2FnZTogXCJTZXR0aW5ncyBmZXRjaGVkIVwifSk7XHJcbn0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07RUFBRUE7QUFBRixJQUFhQyxPQUFPLENBQUMsV0FBRCxDQUExQjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxnQkFBRCxDQUFwQjs7QUFFQUUsT0FBTyxDQUFDQyxRQUFSLEdBQW1CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUNuQ0osSUFBSSxDQUFDSyxNQUFMLENBQVksR0FBWixFQUFpQkMsSUFBakIsQ0FBc0IsT0FBdEIsRUFBK0JDLElBQS9CLENBQW9DQyxJQUFJLElBQUc7SUFDdkNKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTO01BQUNDLE9BQU8sRUFBQyxJQUFUO01BQWVGLElBQWY7TUFBcUJHLE9BQU8sRUFBRTtJQUE5QixDQUFUO0VBQ0gsQ0FGRCxFQUVHQyxLQUZILENBRVNDLEdBQUcsSUFBSTtJQUNaVCxHQUFHLENBQUNLLElBQUosQ0FBUztNQUFDQyxPQUFPLEVBQUMsS0FBVDtNQUFnQkMsT0FBTyxFQUFFRSxHQUFHLENBQUNGO0lBQTdCLENBQVQ7RUFDSCxDQUpEO0FBS0gsQ0FORDs7QUFRQVYsT0FBTyxDQUFDYSxNQUFSLEdBQWlCLE9BQU9YLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUNqQyxNQUFNO0lBQUNXLFFBQUQ7SUFBV0M7RUFBWCxJQUF1QmIsR0FBRyxDQUFDYyxJQUFqQztFQUNBakIsSUFBSSxDQUFDa0IsTUFBTCxDQUFZO0lBQUNILFFBQVEsRUFBRUEsUUFBWDtJQUFxQkMsUUFBUSxFQUFFbEIsTUFBTSxDQUFDa0IsUUFBRCxDQUFyQztJQUFpREcsSUFBSSxFQUFFO0VBQXZELENBQVosRUFBNEVDLElBQTVFLENBQWlGLE9BQWpGLEVBQTBGYixJQUExRixDQUErRkMsSUFBSSxJQUFHO0lBQ2xHUixJQUFJLENBQUNLLE1BQUwsQ0FBWSxHQUFaLEVBQWlCQyxJQUFqQixDQUFzQixPQUF0QixFQUErQmUsS0FBL0IsQ0FBcUM7TUFBQ04sUUFBUSxFQUFDQTtJQUFWLENBQXJDLEVBQTBEUixJQUExRCxDQUErREMsSUFBSSxJQUFHO01BQ3RFSixHQUFHLENBQUNLLElBQUosQ0FBUztRQUFDQyxPQUFPLEVBQUMsSUFBVDtRQUFlRixJQUFmO1FBQXFCRyxPQUFPLEVBQUU7TUFBOUIsQ0FBVDtJQUNDLENBRkQsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUk7TUFDWlQsR0FBRyxDQUFDSyxJQUFKLENBQVM7UUFBQ0MsT0FBTyxFQUFDLEtBQVQ7UUFBZ0JDLE9BQU8sRUFBRUUsR0FBRyxDQUFDRjtNQUE3QixDQUFUO0lBQ0gsQ0FKRDtFQUtILENBTkQsRUFNR0MsS0FOSCxDQU1TQyxHQUFHLElBQUk7SUFDWlQsR0FBRyxDQUFDSyxJQUFKLENBQVM7TUFBQ0MsT0FBTyxFQUFDLEtBQVQ7TUFBZ0JDLE9BQU8sRUFBRUUsR0FBRyxDQUFDRjtJQUE3QixDQUFUO0VBQ0gsQ0FSRDtBQVNILENBWEQ7O0FBYUFWLE9BQU8sQ0FBQ3FCLFVBQVIsR0FBcUIsT0FBT25CLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUNyQyxNQUFNO0lBQUNXO0VBQUQsSUFBYVosR0FBRyxDQUFDYyxJQUF2QjtFQUNBakIsSUFBSSxDQUFDdUIsTUFBTCxHQUFjakIsSUFBZCxDQUFtQixPQUFuQixFQUE0QmUsS0FBNUIsQ0FBa0M7SUFBQ04sUUFBUSxFQUFFQTtFQUFYLENBQWxDLEVBQXdEUixJQUF4RCxDQUE2REMsSUFBSSxJQUFHO0lBQ2hFSixHQUFHLENBQUNLLElBQUosQ0FBUztNQUFDQyxPQUFPLEVBQUMsSUFBVDtNQUFlRixJQUFmO01BQXFCRyxPQUFPLEVBQUU7SUFBOUIsQ0FBVDtFQUNILENBRkQsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUk7SUFDWlQsR0FBRyxDQUFDSyxJQUFKLENBQVM7TUFBQ0MsT0FBTyxFQUFDLEtBQVQ7TUFBZ0JDLE9BQU8sRUFBRUUsR0FBRyxDQUFDRjtJQUE3QixDQUFUO0VBQ0gsQ0FKRDtBQUtILENBUEQ7O0FBU0FWLE9BQU8sQ0FBQ3VCLFVBQVIsR0FBcUIsT0FBT3JCLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUNyQyxNQUFNO0lBQUNxQixHQUFEO0lBQU1WLFFBQU47SUFBZ0JDLFFBQWhCO0lBQTBCRyxJQUExQjtJQUFnQ087RUFBaEMsSUFBcUR2QixHQUFHLENBQUNjLElBQS9EO0VBQ0FqQixJQUFJLENBQUMyQixNQUFMLENBQVk7SUFBQ0YsR0FBRyxFQUFFQSxHQUFOO0lBQVdWLFFBQVEsRUFBQ0EsUUFBcEI7SUFBOEJDLFFBQVEsRUFBRUEsUUFBeEM7SUFBa0RHLElBQUksRUFBRUEsSUFBeEQ7SUFBOERPLGlCQUFpQixFQUFFdkIsR0FBRyxDQUFDYyxJQUFKLENBQVMsb0JBQVQ7RUFBakYsQ0FBWixFQUE4SFgsSUFBOUgsQ0FBbUksT0FBbkksRUFBNEllLEtBQTVJLENBQWtKO0lBQUNJLEdBQUcsRUFBRUE7RUFBTixDQUFsSixFQUE4SmxCLElBQTlKLENBQW1LQyxJQUFJLElBQUc7SUFDdEtSLElBQUksQ0FBQ0ssTUFBTCxDQUFZLEdBQVosRUFBaUJDLElBQWpCLENBQXNCLE9BQXRCLEVBQStCQyxJQUEvQixDQUFvQ0MsSUFBSSxJQUFHO01BQ3ZDSixHQUFHLENBQUNLLElBQUosQ0FBUztRQUFDQyxPQUFPLEVBQUMsSUFBVDtRQUFlRixJQUFmO1FBQXFCRyxPQUFPLEVBQUU7TUFBOUIsQ0FBVDtJQUNILENBRkQ7RUFHSCxDQUpELEVBSUdDLEtBSkgsQ0FJU0MsR0FBRyxJQUFJO0lBQ1pULEdBQUcsQ0FBQ0ssSUFBSixDQUFTO01BQUNDLE9BQU8sRUFBQyxLQUFUO01BQWdCQyxPQUFPLEVBQUVFLEdBQUcsQ0FBQ0Y7SUFBN0IsQ0FBVDtFQUNILENBTkQ7QUFPSCxDQVREOztBQVdBVixPQUFPLENBQUMyQixLQUFSLEdBQWdCLE9BQU96QixHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDaEMsTUFBTTtJQUFDVyxRQUFEO0lBQVdDO0VBQVgsSUFBdUJiLEdBQUcsQ0FBQ2MsSUFBakM7RUFDQWpCLElBQUksQ0FBQ0ssTUFBTCxDQUFZLEdBQVosRUFBaUJDLElBQWpCLENBQXNCLE9BQXRCLEVBQStCZSxLQUEvQixDQUFxQztJQUFDTixRQUFRLEVBQUVBLFFBQVg7SUFBcUJDLFFBQVEsRUFBRWxCLE1BQU0sQ0FBQ2tCLFFBQUQ7RUFBckMsQ0FBckMsRUFBdUZULElBQXZGLENBQTRGQyxJQUFJLElBQUc7SUFDL0YsSUFBR0EsSUFBSSxDQUFDcUIsTUFBTCxJQUFlLENBQWxCLEVBQW9CO01BQ2hCekIsR0FBRyxDQUFDSyxJQUFKLENBQVM7UUFBQ0MsT0FBTyxFQUFDLEtBQVQ7UUFBZ0JDLE9BQU8sRUFBRTtNQUF6QixDQUFUO0lBQ0gsQ0FGRCxNQUVLO01BQ0RQLEdBQUcsQ0FBQ0ssSUFBSixDQUFTO1FBQUNDLE9BQU8sRUFBQyxJQUFUO1FBQWVGLElBQWY7UUFBcUJHLE9BQU8sRUFBRTtNQUE5QixDQUFUO0lBQ0g7RUFDSixDQU5ELEVBTUdDLEtBTkgsQ0FNU0MsR0FBRyxJQUFJO0lBQ1pULEdBQUcsQ0FBQ0ssSUFBSixDQUFTO01BQUNDLE9BQU8sRUFBQyxLQUFUO01BQWdCQyxPQUFPLEVBQUVFLEdBQUcsQ0FBQ0Y7SUFBN0IsQ0FBVDtFQUNILENBUkQ7QUFTSCxDQVhEOztBQWFBVixPQUFPLENBQUM2QixRQUFSLEdBQW1CLE9BQU8zQixHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDbkMyQixrQkFBa0IsR0FBRyxNQUFNL0IsSUFBSSxDQUFDSyxNQUFMLENBQVksR0FBWixFQUFpQkMsSUFBakIsQ0FBc0Isb0JBQXRCLEVBQTRDQyxJQUE1QyxDQUFpRHlCLGNBQWMsSUFBRztJQUN6RixJQUFJQyxjQUFjLEdBQUcsRUFBckI7SUFDQUMsT0FBTyxDQUFDQyxHQUFSLENBQVlILGNBQVo7O0lBQ0EsS0FBSUksVUFBSixJQUFrQkosY0FBbEIsRUFBaUM7TUFDN0JDLGNBQWMsQ0FBQ0ksSUFBZixDQUFvQjtRQUFDQyxLQUFLLEVBQUVOLGNBQWMsQ0FBQ0ksVUFBRCxDQUFkLENBQTJCLGFBQTNCLElBQTRDLEtBQTVDLEdBQXFESixjQUFjLENBQUNJLFVBQUQsQ0FBZCxDQUEyQixhQUEzQixDQUE3RDtRQUF3R0csS0FBSyxFQUFHUCxjQUFjLENBQUNJLFVBQUQsQ0FBZCxDQUEyQixLQUEzQjtNQUFoSCxDQUFwQjtJQUNIOztJQUNERixPQUFPLENBQUNDLEdBQVIsQ0FBWUYsY0FBWjtJQUNBLE9BQU9BLGNBQVA7RUFDSCxDQVIwQixDQUEzQjtFQVVBLE1BQU1PLGNBQWMsR0FBRztJQUNuQjtJQUNBO0lBQ0FDLE9BQU8sRUFBRSxDQUNMLEtBREssRUFFTCxVQUZLLEVBR0wsTUFISyxFQUlMLFVBSks7RUFIVSxDQUF2QjtFQVdBLE1BQU1DLGFBQWEsR0FBRztJQUNsQjtJQUNBLE9BQU07TUFDRkMsSUFBSSxFQUFFLFFBREo7TUFFRkMsUUFBUSxFQUFDLEtBRlA7TUFHRkMsWUFBWSxFQUFFLFNBSFo7TUFJRkMsVUFBVSxFQUFFO0lBSlYsQ0FGWTtJQVFsQixZQUFXO01BQ1BILElBQUksRUFBRSxNQURDO01BRVBDLFFBQVEsRUFBQyxJQUZGO01BR1BDLFlBQVksRUFBRTtJQUhQLENBUk87SUFhbEIsUUFBTztNQUNIRixJQUFJLEVBQUUsTUFESDtNQUVIQyxRQUFRLEVBQUMsSUFGTjtNQUdIQyxZQUFZLEVBQUU7SUFIWCxDQWJXO0lBa0JsQixZQUFXO01BQ1BGLElBQUksRUFBRSxVQURDO01BRVBDLFFBQVEsRUFBQyxLQUZGO01BR1BDLFlBQVksRUFBRTtJQUhQLENBbEJPO0lBdUJsQixxQkFBb0I7TUFDaEJGLElBQUksRUFBRSxVQURVO01BRWhCQyxRQUFRLEVBQUMsSUFGTztNQUdoQkMsWUFBWSxFQUFFLG9CQUhFO01BSWhCRSxPQUFPLEVBQUVoQjtJQUpPO0VBdkJGLENBQXRCO0VBK0JBLE1BQU1ELFFBQVEsR0FBRztJQUNiVSxjQUFjLEVBQUVBLGNBREg7SUFFYkUsYUFBYSxFQUFFQTtFQUZGLENBQWpCO0VBS0F0QyxHQUFHLENBQUNLLElBQUosQ0FBUztJQUFDQyxPQUFPLEVBQUcsSUFBWDtJQUFpQm9CLFFBQVEsRUFBRUEsUUFBM0I7SUFBcUNuQixPQUFPLEVBQUU7RUFBOUMsQ0FBVDtBQUNILENBM0REIn0=","map":{"version":3,"names":["SHA256","require","knex","exports","allUsers","req","res","select","from","then","data","json","success","message","catch","err","create","username","password","body","insert","role","into","where","deleteUser","delete","updateUser","uid","polytechnicCourse","update","login","length","settings","polytechnicCourses","polyCourseData","tempCourseList","console","log","polycourse","push","label","value","columnSettings","headers","fieldSettings","type","editable","displayLabel","primaryKey","options"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\controller\\","sources":["authController.js"],"sourcesContent":["const { SHA256 } = require(\"crypto-js\");\r\nconst knex = require(\"../database.js\");\r\n\r\nexports.allUsers = async (req, res) => {\r\n    knex.select(\"*\").from(\"Users\").then(data =>{\r\n        res.json({success:true, data, message: \"Users fetched!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.create = async (req, res) => {\r\n    const {username, password} = req.body;\r\n    knex.insert({username: username, password: SHA256(password), role: \"user\"}).into(\"Users\").then(data =>{\r\n        knex.select(\"*\").from(\"Users\").where({username:username}).then(data =>{\r\n        res.json({success:true, data, message: \"User created!\"});\r\n        }).catch(err => {\r\n            res.json({success:false, message: err.message});\r\n        })\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.deleteUser = async (req, res) => {\r\n    const {username} = req.body;\r\n    knex.delete().from(\"Users\").where({username: username}).then(data =>{\r\n        res.json({success:true, data, message: \"User deleted!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.updateUser = async (req, res) => {\r\n    const {uid, username, password, role, polytechnicCourse} = req.body;\r\n    knex.update({uid: uid, username:username, password: password, role: role, polytechnicCourse: req.body[\"Polytechnic Course\"]}).from(\"Users\").where({uid: uid}).then(data =>{\r\n        knex.select(\"*\").from(\"Users\").then(data =>{ \r\n            res.json({success:true, data, message: \"Users fetched!\"});\r\n        })\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.login = async (req, res) => {\r\n    const {username, password} = req.body;\r\n    knex.select(\"*\").from(\"Users\").where({username: username, password: SHA256(password)}).then(data =>{\r\n        if(data.length == 0){\r\n            res.json({success:false, message: \"Username or password is incorrect!\"});\r\n        }else{\r\n            res.json({success:true, data, message: \"Login successful!\"});\r\n        }\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.settings = async (req, res) => {\r\n    polytechnicCourses = await knex.select(\"*\").from(\"PolytechnicCourses\").then(polyCourseData =>{\r\n        var tempCourseList = [];\r\n        console.log(polyCourseData);\r\n        for(polycourse in polyCourseData){\r\n            tempCourseList.push({label: polyCourseData[polycourse][\"course code\"] + \" - \" +  polyCourseData[polycourse][\"course name\"], value:  polyCourseData[polycourse][\"cid\"]});\r\n        }\r\n        console.log(tempCourseList)\r\n        return tempCourseList;\r\n    });\r\n\r\n    const columnSettings = {\r\n        // Configures the headers of the table\r\n        // Pls match header names with column names (case sensitive!)\r\n        headers: [\r\n            \"uid\",\r\n            \"username\",\r\n            \"role\",\r\n            \"password\"\r\n        ]\r\n    }\r\n\r\n    const fieldSettings = {\r\n        // Configures the datatype of the fields and their editablility\r\n        \"uid\":{\r\n            type: \"number\",\r\n            editable:false,\r\n            displayLabel: \"User ID\",\r\n            primaryKey: true\r\n        },\r\n        \"username\":{\r\n            type: \"text\",\r\n            editable:true,\r\n            displayLabel: \"Username\",\r\n        },\r\n        \"role\":{\r\n            type: \"text\",\r\n            editable:true,\r\n            displayLabel: \"Role\",\r\n        },\r\n        \"password\":{\r\n            type: \"password\",\r\n            editable:false,\r\n            displayLabel: \"Password\",\r\n        },\r\n        \"polytechnicCourse\":{\r\n            type: \"dropdown\",\r\n            editable:true,\r\n            displayLabel: \"Polytechnic Course\",\r\n            options: polytechnicCourses,\r\n        }\r\n    }\r\n\r\n    const settings = {\r\n        columnSettings: columnSettings,\r\n        fieldSettings: fieldSettings\r\n    }\r\n\r\n    res.json({success : true, settings: settings, message: \"Settings fetched!\"});\r\n}"],"mappings":"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"}},"mtime":1662944079034},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"// bookshelf-app/server/db.js\n// Import path module\nconst path = require('path'); // Get the location of database.sqlite file\n\n\nconst dbPath = path.resolve(__dirname, 'db/database.sqlite');\nconsole.log(dbPath); // Create connection to SQLite database\n\nconst knex = require('knex')({\n  client: 'sqlite3',\n  connection: {\n    filename: dbPath\n  },\n  useNullAsDefault: true\n}); // Create a table in the database called \"Users\"\n\n\nknex.schema // Make sure no \"Users\" table exists\n// before trying to create new\n.hasTable('Users').then(exists => {\n  if (!exists) {\n    // If no \"Users\" table exists\n    // create new, with \"uid\", \"username\", \"password\", \"role\"\n    // and use \"uid\" as a primary identification\n    // and increment \"uid\" with every new record (user)\n    return knex.schema.createTable('Users', table => {\n      table.increments('uid').primary();\n      table.string('username').unique();\n      table.string('password');\n      table.string('role');\n      table.integer('polytechnicCourse');\n      table.foreign('polytechnicCourse').references('cid').inTable('PolytechnicCourses').onDelete('CASCADE').onUpdate('CASCADE');\n    }).then(() => {\n      // Log success message\n      console.log('Table \\'Users\\' created');\n    }).catch(error => {\n      console.error(`There was an error creating table: ${error}`);\n    });\n  }\n}).then(() => {\n  // Log success message\n  console.log('done');\n}).catch(error => {\n  console.error(`There was an error setting up the database: ${error}`);\n});\nknex.schema.hasTable(\"Polytechnics\").then(exists => {\n  if (!exists) {\n    return knex.schema.createTable(\"Polytechnics\", table => {\n      table.increments(\"pid\").primary();\n      table.string(\"polytechnic name\");\n    }).then(() => {\n      console.log(\"Table 'Polytechnics' created\");\n    }).catch(error => {\n      console.error(`There was an error creating table: ${error}`);\n    });\n  }\n}).then(() => {\n  console.log(\"done\");\n}).catch(error => {\n  console.error(`There was an error setting up the database: ${error}`);\n});\nknex.schema.hasTable(\"PolytechnicCourses\").then(exists => {\n  if (!exists) {\n    // If no Course table exists\n    // create new, with \"cid\",\"course code\", \"course name\"\n    // and use \"cid\" as a primary identification\n    // and increment \"cid\" with every new record (course)\n    return knex.schema.createTable(\"PolytechnicCourses\", table => {\n      table.increments('cid').primary();\n      table.string(\"course code\");\n      table.string('course name');\n      table.integer('polytechnic');\n      table.foreign('polytechnic').references('pid').inTable('Polytechnics').onDelete('CASCADE').onUpdate('CASCADE');\n    }).then(() => {\n      console.log('Table \\'PolytechnicCourses\\' created');\n    }).catch(error => {\n      console.error(`There was an error creating table: ${error}`);\n    });\n  }\n}).then(() => {\n  console.log('done');\n}).catch(error => {\n  console.error(`There was an error setting up the database: ${error}`);\n});\nknex.schema.hasTable(\"PolytechnicModules\").then(exists => {\n  if (!exists) {\n    return knex.schema.createTable(\"PolytechnicModules\", table => {\n      table.increments('mid').primary();\n      table.string(\"module code\");\n      table.string('module name');\n      table.integer('polytechnicCourse');\n      table.foreign('polytechnicCourse').references('cid').inTable('PolytechnicCourses').onDelete('CASCADE').onUpdate('CASCADE');\n    }).then(() => {\n      console.log('Table \\'PolytechnicModules\\' created');\n    }).catch(error => {\n      console.error(`There was an error creating table: ${error}`);\n    });\n  }\n}).then(() => {\n  console.log('done');\n}).catch(error => {\n  console.error(`There was an error setting up the database: ${error}`);\n});\nknex.schema.hasTable(\"Universities\").then(exists => {\n  if (!exists) {\n    return knex.schema.createTable(\"Universities\", table => {\n      table.increments('uid').primary();\n      table.string(\"university name\");\n    }).then(() => {\n      console.log('Table \\'Universities\\' created');\n    }).catch(error => {\n      console.error(`There was an error creating table: ${error}`);\n    });\n  }\n}); // Just for debugging purposes:\n// Log all data in \"books\" table\n\nknex.select('*').from('Users').then(data => console.log('data:', data)).catch(err => console.log(err));\nknex.select('*').from('Polytechnics').then(data => console.log('data:', data)).catch(err => console.log(err));\nknex.select(\"*\").from(\"PolytechnicCourses\").then(data => console.log('data:', data)).catch(err => console.log(err));\nknex.select(\"*\").from(\"PolytechnicModules\").then(data => console.log('data:', data)).catch(err => console.log(err));\nknex.select(\"*\").from(\"Universities\").then(data => console.log('data:', data)).catch(err => console.log(err)); // Export the database\n\nmodule.exports = knex;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImRiUGF0aCIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJjb25zb2xlIiwibG9nIiwia25leCIsImNsaWVudCIsImNvbm5lY3Rpb24iLCJmaWxlbmFtZSIsInVzZU51bGxBc0RlZmF1bHQiLCJzY2hlbWEiLCJoYXNUYWJsZSIsInRoZW4iLCJleGlzdHMiLCJjcmVhdGVUYWJsZSIsInRhYmxlIiwiaW5jcmVtZW50cyIsInByaW1hcnkiLCJzdHJpbmciLCJ1bmlxdWUiLCJpbnRlZ2VyIiwiZm9yZWlnbiIsInJlZmVyZW5jZXMiLCJpblRhYmxlIiwib25EZWxldGUiLCJvblVwZGF0ZSIsImNhdGNoIiwiZXJyb3IiLCJzZWxlY3QiLCJmcm9tIiwiZGF0YSIsImVyciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxJQ1QyMTAzLVByb2pcXEV4ZW1wdGlvbkNoZWNrZXJcXHNlcnZlclxcIiwic291cmNlcyI6WyJkYXRhYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBib29rc2hlbGYtYXBwL3NlcnZlci9kYi5qc1xyXG5cclxuLy8gSW1wb3J0IHBhdGggbW9kdWxlXHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcclxuXHJcbi8vIEdldCB0aGUgbG9jYXRpb24gb2YgZGF0YWJhc2Uuc3FsaXRlIGZpbGVcclxuY29uc3QgZGJQYXRoID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ2RiL2RhdGFiYXNlLnNxbGl0ZScpXHJcbmNvbnNvbGUubG9nKGRiUGF0aCk7XHJcbi8vIENyZWF0ZSBjb25uZWN0aW9uIHRvIFNRTGl0ZSBkYXRhYmFzZVxyXG5jb25zdCBrbmV4ID0gcmVxdWlyZSgna25leCcpKHtcclxuICBjbGllbnQ6ICdzcWxpdGUzJyxcclxuICBjb25uZWN0aW9uOiB7XHJcbiAgICBmaWxlbmFtZTogZGJQYXRoLFxyXG4gIH0sXHJcbiAgdXNlTnVsbEFzRGVmYXVsdDogdHJ1ZVxyXG59KVxyXG5cclxuLy8gQ3JlYXRlIGEgdGFibGUgaW4gdGhlIGRhdGFiYXNlIGNhbGxlZCBcIlVzZXJzXCJcclxua25leC5zY2hlbWFcclxuICAvLyBNYWtlIHN1cmUgbm8gXCJVc2Vyc1wiIHRhYmxlIGV4aXN0c1xyXG4gIC8vIGJlZm9yZSB0cnlpbmcgdG8gY3JlYXRlIG5ld1xyXG4gIC5oYXNUYWJsZSgnVXNlcnMnKVxyXG4gICAgLnRoZW4oKGV4aXN0cykgPT4ge1xyXG4gICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgIC8vIElmIG5vIFwiVXNlcnNcIiB0YWJsZSBleGlzdHNcclxuICAgICAgICAvLyBjcmVhdGUgbmV3LCB3aXRoIFwidWlkXCIsIFwidXNlcm5hbWVcIiwgXCJwYXNzd29yZFwiLCBcInJvbGVcIlxyXG4gICAgICAgIC8vIGFuZCB1c2UgXCJ1aWRcIiBhcyBhIHByaW1hcnkgaWRlbnRpZmljYXRpb25cclxuICAgICAgICAvLyBhbmQgaW5jcmVtZW50IFwidWlkXCIgd2l0aCBldmVyeSBuZXcgcmVjb3JkICh1c2VyKVxyXG4gICAgICAgIHJldHVybiBrbmV4LnNjaGVtYS5jcmVhdGVUYWJsZSgnVXNlcnMnLCAodGFibGUpICA9PiB7XHJcbiAgICAgICAgICB0YWJsZS5pbmNyZW1lbnRzKCd1aWQnKS5wcmltYXJ5KClcclxuICAgICAgICAgIHRhYmxlLnN0cmluZygndXNlcm5hbWUnKS51bmlxdWUoKVxyXG4gICAgICAgICAgdGFibGUuc3RyaW5nKCdwYXNzd29yZCcpXHJcbiAgICAgICAgICB0YWJsZS5zdHJpbmcoJ3JvbGUnKVxyXG4gICAgICAgICAgdGFibGUuaW50ZWdlcigncG9seXRlY2huaWNDb3Vyc2UnKVxyXG4gICAgICAgICAgdGFibGUuZm9yZWlnbigncG9seXRlY2huaWNDb3Vyc2UnKS5yZWZlcmVuY2VzKCdjaWQnKS5pblRhYmxlKCdQb2x5dGVjaG5pY0NvdXJzZXMnKS5vbkRlbGV0ZSgnQ0FTQ0FERScpLm9uVXBkYXRlKCdDQVNDQURFJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIC8vIExvZyBzdWNjZXNzIG1lc3NhZ2VcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdUYWJsZSBcXCdVc2Vyc1xcJyBjcmVhdGVkJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZXJlIHdhcyBhbiBlcnJvciBjcmVhdGluZyB0YWJsZTogJHtlcnJvcn1gKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIC8vIExvZyBzdWNjZXNzIG1lc3NhZ2VcclxuICAgICAgY29uc29sZS5sb2coJ2RvbmUnKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihgVGhlcmUgd2FzIGFuIGVycm9yIHNldHRpbmcgdXAgdGhlIGRhdGFiYXNlOiAke2Vycm9yfWApXHJcbiAgICB9KVxyXG5cclxua25leC5zY2hlbWFcclxuICAuaGFzVGFibGUoXCJQb2x5dGVjaG5pY3NcIilcclxuICAgIC50aGVuKChleGlzdHMpID0+IHtcclxuICAgICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgICByZXR1cm4ga25leC5zY2hlbWEuY3JlYXRlVGFibGUoXCJQb2x5dGVjaG5pY3NcIiwgKHRhYmxlKSA9PiB7XHJcbiAgICAgICAgICB0YWJsZS5pbmNyZW1lbnRzKFwicGlkXCIpLnByaW1hcnkoKTtcclxuICAgICAgICAgIHRhYmxlLnN0cmluZyhcInBvbHl0ZWNobmljIG5hbWVcIik7XHJcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlRhYmxlICdQb2x5dGVjaG5pY3MnIGNyZWF0ZWRcIik7XHJcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBUaGVyZSB3YXMgYW4gZXJyb3IgY3JlYXRpbmcgdGFibGU6ICR7ZXJyb3J9YCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJkb25lXCIpO1xyXG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZXJlIHdhcyBhbiBlcnJvciBzZXR0aW5nIHVwIHRoZSBkYXRhYmFzZTogJHtlcnJvcn1gKTtcclxuICAgIH0pO1xyXG5cclxua25leC5zY2hlbWFcclxuICAgIC5oYXNUYWJsZShcIlBvbHl0ZWNobmljQ291cnNlc1wiKVxyXG4gICAgICAudGhlbigoZXhpc3RzKSA9PiB7XHJcbiAgICAgICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgICAgIC8vIElmIG5vIENvdXJzZSB0YWJsZSBleGlzdHNcclxuICAgICAgICAgIC8vIGNyZWF0ZSBuZXcsIHdpdGggXCJjaWRcIixcImNvdXJzZSBjb2RlXCIsIFwiY291cnNlIG5hbWVcIlxyXG4gICAgICAgICAgLy8gYW5kIHVzZSBcImNpZFwiIGFzIGEgcHJpbWFyeSBpZGVudGlmaWNhdGlvblxyXG4gICAgICAgICAgLy8gYW5kIGluY3JlbWVudCBcImNpZFwiIHdpdGggZXZlcnkgbmV3IHJlY29yZCAoY291cnNlKVxyXG4gICAgICAgICAgcmV0dXJuIGtuZXguc2NoZW1hLmNyZWF0ZVRhYmxlKFwiUG9seXRlY2huaWNDb3Vyc2VzXCIsICh0YWJsZSkgID0+IHtcclxuICAgICAgICAgICAgdGFibGUuaW5jcmVtZW50cygnY2lkJykucHJpbWFyeSgpXHJcbiAgICAgICAgICAgIHRhYmxlLnN0cmluZyhcImNvdXJzZSBjb2RlXCIpXHJcbiAgICAgICAgICAgIHRhYmxlLnN0cmluZygnY291cnNlIG5hbWUnKVxyXG4gICAgICAgICAgICB0YWJsZS5pbnRlZ2VyKCdwb2x5dGVjaG5pYycpXHJcbiAgICAgICAgICAgIHRhYmxlLmZvcmVpZ24oJ3BvbHl0ZWNobmljJykucmVmZXJlbmNlcygncGlkJykuaW5UYWJsZSgnUG9seXRlY2huaWNzJykub25EZWxldGUoJ0NBU0NBREUnKS5vblVwZGF0ZSgnQ0FTQ0FERScpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGFibGUgXFwnUG9seXRlY2huaWNDb3Vyc2VzXFwnIGNyZWF0ZWQnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVGhlcmUgd2FzIGFuIGVycm9yIGNyZWF0aW5nIHRhYmxlOiAke2Vycm9yfWApXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdkb25lJylcclxuICAgICAgfSkuY2F0Y2goKGVycm9yKT0+e1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZXJlIHdhcyBhbiBlcnJvciBzZXR0aW5nIHVwIHRoZSBkYXRhYmFzZTogJHtlcnJvcn1gKVxyXG4gICAgICB9KVxyXG5cclxua25leC5zY2hlbWFcclxuLmhhc1RhYmxlKFwiUG9seXRlY2huaWNNb2R1bGVzXCIpXHJcbi50aGVuKChleGlzdHMpPT57XHJcbiAgaWYoIWV4aXN0cykge1xyXG4gICAgcmV0dXJuIGtuZXguc2NoZW1hLmNyZWF0ZVRhYmxlKFwiUG9seXRlY2huaWNNb2R1bGVzXCIsICh0YWJsZSk9PntcclxuICAgICAgdGFibGUuaW5jcmVtZW50cygnbWlkJykucHJpbWFyeSgpXHJcbiAgICAgIHRhYmxlLnN0cmluZyhcIm1vZHVsZSBjb2RlXCIpXHJcbiAgICAgIHRhYmxlLnN0cmluZygnbW9kdWxlIG5hbWUnKVxyXG4gICAgICB0YWJsZS5pbnRlZ2VyKCdwb2x5dGVjaG5pY0NvdXJzZScpXHJcbiAgICAgIHRhYmxlLmZvcmVpZ24oJ3BvbHl0ZWNobmljQ291cnNlJykucmVmZXJlbmNlcygnY2lkJykuaW5UYWJsZSgnUG9seXRlY2huaWNDb3Vyc2VzJykub25EZWxldGUoJ0NBU0NBREUnKS5vblVwZGF0ZSgnQ0FTQ0FERScpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKCk9PntcclxuICAgICAgY29uc29sZS5sb2coJ1RhYmxlIFxcJ1BvbHl0ZWNobmljTW9kdWxlc1xcJyBjcmVhdGVkJylcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKT0+e1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBUaGVyZSB3YXMgYW4gZXJyb3IgY3JlYXRpbmcgdGFibGU6ICR7ZXJyb3J9YClcclxuICAgIH0pXHJcbiAgfVxyXG59KS50aGVuKCgpPT57XHJcbiAgY29uc29sZS5sb2coJ2RvbmUnKVxyXG59KS5jYXRjaCgoZXJyb3IpPT57XHJcbiAgY29uc29sZS5lcnJvcihgVGhlcmUgd2FzIGFuIGVycm9yIHNldHRpbmcgdXAgdGhlIGRhdGFiYXNlOiAke2Vycm9yfWApXHJcbn0pXHJcblxyXG5rbmV4LnNjaGVtYVxyXG4uaGFzVGFibGUoXCJVbml2ZXJzaXRpZXNcIilcclxuLnRoZW4oKGV4aXN0cyk9PntcclxuICBpZighZXhpc3RzKSB7XHJcbiAgICByZXR1cm4ga25leC5zY2hlbWEuY3JlYXRlVGFibGUoXCJVbml2ZXJzaXRpZXNcIiwgKHRhYmxlKT0+e1xyXG4gICAgICB0YWJsZS5pbmNyZW1lbnRzKCd1aWQnKS5wcmltYXJ5KClcclxuICAgICAgdGFibGUuc3RyaW5nKFwidW5pdmVyc2l0eSBuYW1lXCIpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKCk9PntcclxuICAgICAgY29uc29sZS5sb2coJ1RhYmxlIFxcJ1VuaXZlcnNpdGllc1xcJyBjcmVhdGVkJylcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycm9yKT0+e1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBUaGVyZSB3YXMgYW4gZXJyb3IgY3JlYXRpbmcgdGFibGU6ICR7ZXJyb3J9YClcclxuICAgIH0pXHJcbiAgfVxyXG59KVxyXG5cclxuLy8gSnVzdCBmb3IgZGVidWdnaW5nIHB1cnBvc2VzOlxyXG4vLyBMb2cgYWxsIGRhdGEgaW4gXCJib29rc1wiIHRhYmxlXHJcbmtuZXguc2VsZWN0KCcqJykuZnJvbSgnVXNlcnMnKVxyXG4gIC50aGVuKGRhdGEgPT4gY29uc29sZS5sb2coJ2RhdGE6JywgZGF0YSkpXHJcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG5cclxua25leC5zZWxlY3QoJyonKS5mcm9tKCdQb2x5dGVjaG5pY3MnKVxyXG4gIC50aGVuKGRhdGEgPT4gY29uc29sZS5sb2coJ2RhdGE6JywgZGF0YSkpXHJcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG5cclxua25leC5zZWxlY3QoXCIqXCIpLmZyb20oXCJQb2x5dGVjaG5pY0NvdXJzZXNcIilcclxuICAudGhlbihkYXRhID0+IGNvbnNvbGUubG9nKCdkYXRhOicsIGRhdGEpKVxyXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcclxuXHJcbmtuZXguc2VsZWN0KFwiKlwiKS5mcm9tKFwiUG9seXRlY2huaWNNb2R1bGVzXCIpXHJcbiAgLnRoZW4oZGF0YSA9PiBjb25zb2xlLmxvZygnZGF0YTonLCBkYXRhKSlcclxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXHJcblxyXG5rbmV4LnNlbGVjdChcIipcIikuZnJvbShcIlVuaXZlcnNpdGllc1wiKVxyXG4gIC50aGVuKGRhdGEgPT4gY29uc29sZS5sb2coJ2RhdGE6JywgZGF0YSkpXHJcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4vLyBFeHBvcnQgdGhlIGRhdGFiYXNlXHJcbm1vZHVsZS5leHBvcnRzID0ga25leCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQTtBQUNBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBcEIsQyxDQUVBOzs7QUFD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","map":{"version":3,"names":["path","require","dbPath","resolve","__dirname","console","log","knex","client","connection","filename","useNullAsDefault","schema","hasTable","then","exists","createTable","table","increments","primary","string","unique","integer","foreign","references","inTable","onDelete","onUpdate","catch","error","select","from","data","err","module","exports"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\","sources":["database.js"],"sourcesContent":["// bookshelf-app/server/db.js\r\n\r\n// Import path module\r\nconst path = require('path')\r\n\r\n// Get the location of database.sqlite file\r\nconst dbPath = path.resolve(__dirname, 'db/database.sqlite')\r\nconsole.log(dbPath);\r\n// Create connection to SQLite database\r\nconst knex = require('knex')({\r\n  client: 'sqlite3',\r\n  connection: {\r\n    filename: dbPath,\r\n  },\r\n  useNullAsDefault: true\r\n})\r\n\r\n// Create a table in the database called \"Users\"\r\nknex.schema\r\n  // Make sure no \"Users\" table exists\r\n  // before trying to create new\r\n  .hasTable('Users')\r\n    .then((exists) => {\r\n      if (!exists) {\r\n        // If no \"Users\" table exists\r\n        // create new, with \"uid\", \"username\", \"password\", \"role\"\r\n        // and use \"uid\" as a primary identification\r\n        // and increment \"uid\" with every new record (user)\r\n        return knex.schema.createTable('Users', (table)  => {\r\n          table.increments('uid').primary()\r\n          table.string('username').unique()\r\n          table.string('password')\r\n          table.string('role')\r\n          table.integer('polytechnicCourse')\r\n          table.foreign('polytechnicCourse').references('cid').inTable('PolytechnicCourses').onDelete('CASCADE').onUpdate('CASCADE')\r\n        })\r\n        .then(() => {\r\n          // Log success message\r\n          console.log('Table \\'Users\\' created')\r\n        })\r\n        .catch((error) => {\r\n          console.error(`There was an error creating table: ${error}`)\r\n        })\r\n      }\r\n    })\r\n    .then(() => {\r\n      // Log success message\r\n      console.log('done')\r\n    })\r\n    .catch((error) => {\r\n      console.error(`There was an error setting up the database: ${error}`)\r\n    })\r\n\r\nknex.schema\r\n  .hasTable(\"Polytechnics\")\r\n    .then((exists) => {\r\n      if (!exists) {\r\n        return knex.schema.createTable(\"Polytechnics\", (table) => {\r\n          table.increments(\"pid\").primary();\r\n          table.string(\"polytechnic name\");\r\n        }).then(() => {\r\n          console.log(\"Table 'Polytechnics' created\");\r\n        }).catch((error) => {\r\n          console.error(`There was an error creating table: ${error}`);\r\n        })\r\n      }\r\n    })\r\n    .then(() => {\r\n      console.log(\"done\");\r\n    }).catch((error) => {\r\n      console.error(`There was an error setting up the database: ${error}`);\r\n    });\r\n\r\nknex.schema\r\n    .hasTable(\"PolytechnicCourses\")\r\n      .then((exists) => {\r\n        if (!exists) {\r\n          // If no Course table exists\r\n          // create new, with \"cid\",\"course code\", \"course name\"\r\n          // and use \"cid\" as a primary identification\r\n          // and increment \"cid\" with every new record (course)\r\n          return knex.schema.createTable(\"PolytechnicCourses\", (table)  => {\r\n            table.increments('cid').primary()\r\n            table.string(\"course code\")\r\n            table.string('course name')\r\n            table.integer('polytechnic')\r\n            table.foreign('polytechnic').references('pid').inTable('Polytechnics').onDelete('CASCADE').onUpdate('CASCADE')\r\n          })\r\n          .then(() => {\r\n            console.log('Table \\'PolytechnicCourses\\' created')\r\n          })\r\n          .catch((error) => {\r\n            console.error(`There was an error creating table: ${error}`)\r\n          })\r\n        }\r\n      })\r\n      .then(() => {\r\n        console.log('done')\r\n      }).catch((error)=>{\r\n        console.error(`There was an error setting up the database: ${error}`)\r\n      })\r\n\r\nknex.schema\r\n.hasTable(\"PolytechnicModules\")\r\n.then((exists)=>{\r\n  if(!exists) {\r\n    return knex.schema.createTable(\"PolytechnicModules\", (table)=>{\r\n      table.increments('mid').primary()\r\n      table.string(\"module code\")\r\n      table.string('module name')\r\n      table.integer('polytechnicCourse')\r\n      table.foreign('polytechnicCourse').references('cid').inTable('PolytechnicCourses').onDelete('CASCADE').onUpdate('CASCADE')\r\n    })\r\n    .then(()=>{\r\n      console.log('Table \\'PolytechnicModules\\' created')\r\n    })\r\n    .catch((error)=>{\r\n      console.error(`There was an error creating table: ${error}`)\r\n    })\r\n  }\r\n}).then(()=>{\r\n  console.log('done')\r\n}).catch((error)=>{\r\n  console.error(`There was an error setting up the database: ${error}`)\r\n})\r\n\r\nknex.schema\r\n.hasTable(\"Universities\")\r\n.then((exists)=>{\r\n  if(!exists) {\r\n    return knex.schema.createTable(\"Universities\", (table)=>{\r\n      table.increments('uid').primary()\r\n      table.string(\"university name\")\r\n    })\r\n    .then(()=>{\r\n      console.log('Table \\'Universities\\' created')\r\n    })\r\n    .catch((error)=>{\r\n      console.error(`There was an error creating table: ${error}`)\r\n    })\r\n  }\r\n})\r\n\r\n// Just for debugging purposes:\r\n// Log all data in \"books\" table\r\nknex.select('*').from('Users')\r\n  .then(data => console.log('data:', data))\r\n  .catch(err => console.log(err))\r\n\r\nknex.select('*').from('Polytechnics')\r\n  .then(data => console.log('data:', data))\r\n  .catch(err => console.log(err))\r\n\r\nknex.select(\"*\").from(\"PolytechnicCourses\")\r\n  .then(data => console.log('data:', data))\r\n  .catch(err => console.log(err))\r\n\r\nknex.select(\"*\").from(\"PolytechnicModules\")\r\n  .then(data => console.log('data:', data))\r\n  .catch(err => console.log(err))\r\n\r\nknex.select(\"*\").from(\"Universities\")\r\n  .then(data => console.log('data:', data))\r\n  .catch(err => console.log(err))\r\n// Export the database\r\nmodule.exports = knex"],"mappings":"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"}},"mtime":1662943289846},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\course.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const express = require(\"express\");\n\nconst courseRoutes = require(\"../controller/courseController.js\");\n\nconst router = express.Router();\nrouter.post(\"/allCourses\", courseRoutes.allCourses);\nrouter.post(\"/create\", courseRoutes.create);\nrouter.post(\"/deleteCourse\", courseRoutes.deleteCourse);\nrouter.post(\"/updateCourse\", courseRoutes.updateCourse);\nrouter.post(\"/settings\", courseRoutes.settings);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNvdXJzZVJvdXRlcyIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJhbGxDb3Vyc2VzIiwiY3JlYXRlIiwiZGVsZXRlQ291cnNlIiwidXBkYXRlQ291cnNlIiwic2V0dGluZ3MiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcSUNUMjEwMy1Qcm9qXFxFeGVtcHRpb25DaGVja2VyXFxzZXJ2ZXJcXHJvdXRlc1xcIiwic291cmNlcyI6WyJjb3Vyc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5cclxuY29uc3QgY291cnNlUm91dGVzID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvY291cnNlQ29udHJvbGxlci5qc1wiKTtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9hbGxDb3Vyc2VzXCIsIGNvdXJzZVJvdXRlcy5hbGxDb3Vyc2VzKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2NyZWF0ZVwiLCBjb3Vyc2VSb3V0ZXMuY3JlYXRlKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2RlbGV0ZUNvdXJzZVwiLCBjb3Vyc2VSb3V0ZXMuZGVsZXRlQ291cnNlKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3VwZGF0ZUNvdXJzZVwiLCBjb3Vyc2VSb3V0ZXMudXBkYXRlQ291cnNlKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3NldHRpbmdzXCIsIGNvdXJzZVJvdXRlcy5zZXR0aW5ncyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNQyxZQUFZLEdBQUdELE9BQU8sQ0FBQyxtQ0FBRCxDQUE1Qjs7QUFFQSxNQUFNRSxNQUFNLEdBQUdILE9BQU8sQ0FBQ0ksTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLGFBQVosRUFBMkJILFlBQVksQ0FBQ0ksVUFBeEM7QUFFQUgsTUFBTSxDQUFDRSxJQUFQLENBQVksU0FBWixFQUF1QkgsWUFBWSxDQUFDSyxNQUFwQztBQUVBSixNQUFNLENBQUNFLElBQVAsQ0FBWSxlQUFaLEVBQTZCSCxZQUFZLENBQUNNLFlBQTFDO0FBRUFMLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLGVBQVosRUFBNkJILFlBQVksQ0FBQ08sWUFBMUM7QUFFQU4sTUFBTSxDQUFDRSxJQUFQLENBQVksV0FBWixFQUF5QkgsWUFBWSxDQUFDUSxRQUF0QztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIn0=","map":{"version":3,"names":["express","require","courseRoutes","router","Router","post","allCourses","create","deleteCourse","updateCourse","settings","module","exports"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\routes\\","sources":["course.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\nconst courseRoutes = require(\"../controller/courseController.js\");\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/allCourses\", courseRoutes.allCourses);\r\n\r\nrouter.post(\"/create\", courseRoutes.create);\r\n\r\nrouter.post(\"/deleteCourse\", courseRoutes.deleteCourse);\r\n\r\nrouter.post(\"/updateCourse\", courseRoutes.updateCourse);\r\n\r\nrouter.post(\"/settings\", courseRoutes.settings);\r\n\r\nmodule.exports = router;\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,YAAY,GAAGD,OAAO,CAAC,mCAAD,CAA5B;;AAEA,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,aAAZ,EAA2BH,YAAY,CAACI,UAAxC;AAEAH,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,YAAY,CAACK,MAApC;AAEAJ,MAAM,CAACE,IAAP,CAAY,eAAZ,EAA6BH,YAAY,CAACM,YAA1C;AAEAL,MAAM,CAACE,IAAP,CAAY,eAAZ,EAA6BH,YAAY,CAACO,YAA1C;AAEAN,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBH,YAAY,CAACQ,QAAtC;AAEAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB"}},"mtime":1662819953091},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\courseController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const knex = require(\"../database.js\");\n\nexports.allCourses = async (req, res) => {\n  knex.select(\"*\").from(\"Courses\").then(courseData => {\n    res.json({\n      success: true,\n      courseData,\n      message: \"Courses fetched!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.create = async (req, res) => {\n  knex.insert({\n    \"course name\": req.body[\"course name\"],\n    \"course code\": req.body[\"course code\"]\n  }).into(\"Courses\").then(courseData => {\n    res.json({\n      success: true,\n      courseData,\n      message: \"Course created!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.deleteCourse = async (req, res) => {\n  const {\n    cid\n  } = req.body;\n  knex.delete().from(\"Courses\").where({\n    cid: cid\n  }).then(courseData => {\n    res.json(courseData);\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.updateCourse = async (req, res) => {\n  knex.update({\n    cid: req.body[\"cid\"],\n    \"course name\": req.body[\"course name\"],\n    \"course code\": req.body[\"course code\"]\n  }).from(\"Courses\").where({\n    cid: cid\n  }).then(courseData => {\n    knex.select(\"*\").from(\"Courses\").then(courseData => {\n      res.json({\n        success: true,\n        courseData,\n        message: \"Courses fetched!\"\n      });\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.settings = async (req, res) => {\n  const columnSettings = {\n    // Configures the headers of the table\n    // Pls match header names with column names (case sensitive!)\n    headers: [\"cid\", \"course code\", \"course name\"]\n  };\n  const fieldSettings = {\n    // Configures the fields of the table\n    \"cid\": {\n      type: \"number\",\n      editable: false,\n      primaryKey: true\n    },\n    \"course code\": {\n      type: \"text\",\n      editable: true\n    },\n    \"course name\": {\n      type: \"text\",\n      editable: true\n    }\n  };\n  const settings = {\n    columnSettings: columnSettings,\n    fieldSettings: fieldSettings\n  };\n  res.json({\n    success: true,\n    settings: settings,\n    message: \"Settings fetched!\"\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJrbmV4IiwicmVxdWlyZSIsImV4cG9ydHMiLCJhbGxDb3Vyc2VzIiwicmVxIiwicmVzIiwic2VsZWN0IiwiZnJvbSIsInRoZW4iLCJjb3Vyc2VEYXRhIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiY2F0Y2giLCJlcnIiLCJjcmVhdGUiLCJpbnNlcnQiLCJib2R5IiwiaW50byIsImRlbGV0ZUNvdXJzZSIsImNpZCIsImRlbGV0ZSIsIndoZXJlIiwidXBkYXRlQ291cnNlIiwidXBkYXRlIiwic2V0dGluZ3MiLCJjb2x1bW5TZXR0aW5ncyIsImhlYWRlcnMiLCJmaWVsZFNldHRpbmdzIiwidHlwZSIsImVkaXRhYmxlIiwicHJpbWFyeUtleSJdLCJzb3VyY2VSb290IjoiRDpcXElDVDIxMDMtUHJvalxcRXhlbXB0aW9uQ2hlY2tlclxcc2VydmVyXFxjb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbImNvdXJzZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qga25leCA9IHJlcXVpcmUoXCIuLi9kYXRhYmFzZS5qc1wiKTtcclxuXHJcbmV4cG9ydHMuYWxsQ291cnNlcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAga25leC5zZWxlY3QoXCIqXCIpLmZyb20oXCJDb3Vyc2VzXCIpLnRoZW4oY291cnNlRGF0YSA9PntcclxuICAgICAgICByZXMuanNvbih7c3VjY2Vzczp0cnVlLCBjb3Vyc2VEYXRhLCBtZXNzYWdlOiBcIkNvdXJzZXMgZmV0Y2hlZCFcIn0pO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuanNvbih7c3VjY2VzczpmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLmNyZWF0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAga25leC5pbnNlcnQoe1wiY291cnNlIG5hbWVcIjogcmVxLmJvZHlbXCJjb3Vyc2UgbmFtZVwiXSxcImNvdXJzZSBjb2RlXCI6IHJlcS5ib2R5W1wiY291cnNlIGNvZGVcIl19KS5pbnRvKFwiQ291cnNlc1wiKS50aGVuKGNvdXJzZURhdGEgPT57XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6dHJ1ZSwgY291cnNlRGF0YSwgbWVzc2FnZTogXCJDb3Vyc2UgY3JlYXRlZCFcIn0pO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuanNvbih7c3VjY2VzczpmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLmRlbGV0ZUNvdXJzZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qge2NpZH0gPSByZXEuYm9keTtcclxuICAgIGtuZXguZGVsZXRlKCkuZnJvbShcIkNvdXJzZXNcIikud2hlcmUoe2NpZDogY2lkfSkudGhlbihjb3Vyc2VEYXRhID0+e1xyXG4gICAgICAgIHJlcy5qc29uKGNvdXJzZURhdGEpXHJcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOmZhbHNlLCBtZXNzYWdlOiBlcnIubWVzc2FnZX0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydHMudXBkYXRlQ291cnNlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBrbmV4LnVwZGF0ZSh7Y2lkOiByZXEuYm9keVtcImNpZFwiXSwgXCJjb3Vyc2UgbmFtZVwiOiByZXEuYm9keVtcImNvdXJzZSBuYW1lXCJdLCBcImNvdXJzZSBjb2RlXCI6IHJlcS5ib2R5W1wiY291cnNlIGNvZGVcIl19KS5mcm9tKFwiQ291cnNlc1wiKS53aGVyZSh7Y2lkOiBjaWR9KS50aGVuKGNvdXJzZURhdGEgPT57XHJcbiAgICAgICAga25leC5zZWxlY3QoXCIqXCIpLmZyb20oXCJDb3Vyc2VzXCIpLnRoZW4oY291cnNlRGF0YSA9PnsgXHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOnRydWUsIGNvdXJzZURhdGEsIG1lc3NhZ2U6IFwiQ291cnNlcyBmZXRjaGVkIVwifSk7XHJcbiAgICAgICAgfSlcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6ZmFsc2UsIG1lc3NhZ2U6IGVyci5tZXNzYWdlfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0cy5zZXR0aW5ncyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgY29sdW1uU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgLy8gQ29uZmlndXJlcyB0aGUgaGVhZGVycyBvZiB0aGUgdGFibGVcclxuICAgICAgICAvLyBQbHMgbWF0Y2ggaGVhZGVyIG5hbWVzIHdpdGggY29sdW1uIG5hbWVzIChjYXNlIHNlbnNpdGl2ZSEpXHJcbiAgICAgICAgaGVhZGVyczogW1xyXG4gICAgICAgICAgICBcImNpZFwiLFxyXG4gICAgICAgICAgICBcImNvdXJzZSBjb2RlXCIsXHJcbiAgICAgICAgICAgIFwiY291cnNlIG5hbWVcIixcclxuICAgICAgICBdLFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpZWxkU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgLy8gQ29uZmlndXJlcyB0aGUgZmllbGRzIG9mIHRoZSB0YWJsZVxyXG4gICAgICAgIFwiY2lkXCI6IHtcclxuICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcclxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwcmltYXJ5S2V5OiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdXJzZSBjb2RlXCI6IHtcclxuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImNvdXJzZSBuYW1lXCI6IHtcclxuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNldHRpbmdzID0ge1xyXG4gICAgICAgIGNvbHVtblNldHRpbmdzOiBjb2x1bW5TZXR0aW5ncyxcclxuICAgICAgICBmaWVsZFNldHRpbmdzOiBmaWVsZFNldHRpbmdzXHJcbiAgICB9XHJcblxyXG4gICAgcmVzLmpzb24oe3N1Y2Nlc3M6IHRydWUsIHNldHRpbmdzOiBzZXR0aW5ncywgbWVzc2FnZTogXCJTZXR0aW5ncyBmZXRjaGVkIVwifSk7XHJcbn0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLGdCQUFELENBQXBCOztBQUVBQyxPQUFPLENBQUNDLFVBQVIsR0FBcUIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQ3JDTCxJQUFJLENBQUNNLE1BQUwsQ0FBWSxHQUFaLEVBQWlCQyxJQUFqQixDQUFzQixTQUF0QixFQUFpQ0MsSUFBakMsQ0FBc0NDLFVBQVUsSUFBRztJQUMvQ0osR0FBRyxDQUFDSyxJQUFKLENBQVM7TUFBQ0MsT0FBTyxFQUFDLElBQVQ7TUFBZUYsVUFBZjtNQUEyQkcsT0FBTyxFQUFFO0lBQXBDLENBQVQ7RUFDSCxDQUZELEVBRUdDLEtBRkgsQ0FFU0MsR0FBRyxJQUFJO0lBQ1pULEdBQUcsQ0FBQ0ssSUFBSixDQUFTO01BQUNDLE9BQU8sRUFBQyxLQUFUO01BQWdCQyxPQUFPLEVBQUVFLEdBQUcsQ0FBQ0Y7SUFBN0IsQ0FBVDtFQUNILENBSkQ7QUFLSCxDQU5EOztBQVFBVixPQUFPLENBQUNhLE1BQVIsR0FBaUIsT0FBT1gsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQ2pDTCxJQUFJLENBQUNnQixNQUFMLENBQVk7SUFBQyxlQUFlWixHQUFHLENBQUNhLElBQUosQ0FBUyxhQUFULENBQWhCO0lBQXdDLGVBQWViLEdBQUcsQ0FBQ2EsSUFBSixDQUFTLGFBQVQ7RUFBdkQsQ0FBWixFQUE2RkMsSUFBN0YsQ0FBa0csU0FBbEcsRUFBNkdW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","map":{"version":3,"names":["knex","require","exports","allCourses","req","res","select","from","then","courseData","json","success","message","catch","err","create","insert","body","into","deleteCourse","cid","delete","where","updateCourse","update","settings","columnSettings","headers","fieldSettings","type","editable","primaryKey"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\controller\\","sources":["courseController.js"],"sourcesContent":["const knex = require(\"../database.js\");\r\n\r\nexports.allCourses = async (req, res) => {\r\n    knex.select(\"*\").from(\"Courses\").then(courseData =>{\r\n        res.json({success:true, courseData, message: \"Courses fetched!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.create = async (req, res) => {\r\n    knex.insert({\"course name\": req.body[\"course name\"],\"course code\": req.body[\"course code\"]}).into(\"Courses\").then(courseData =>{\r\n        res.json({success:true, courseData, message: \"Course created!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.deleteCourse = async (req, res) => {\r\n    const {cid} = req.body;\r\n    knex.delete().from(\"Courses\").where({cid: cid}).then(courseData =>{\r\n        res.json(courseData)\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.updateCourse = async (req, res) => {\r\n    knex.update({cid: req.body[\"cid\"], \"course name\": req.body[\"course name\"], \"course code\": req.body[\"course code\"]}).from(\"Courses\").where({cid: cid}).then(courseData =>{\r\n        knex.select(\"*\").from(\"Courses\").then(courseData =>{ \r\n            res.json({success:true, courseData, message: \"Courses fetched!\"});\r\n        })\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.settings = async (req, res) => {\r\n    const columnSettings = {\r\n        // Configures the headers of the table\r\n        // Pls match header names with column names (case sensitive!)\r\n        headers: [\r\n            \"cid\",\r\n            \"course code\",\r\n            \"course name\",\r\n        ],\r\n    }\r\n\r\n    const fieldSettings = {\r\n        // Configures the fields of the table\r\n        \"cid\": {\r\n            type: \"number\",\r\n            editable: false,\r\n            primaryKey: true\r\n        },\r\n        \"course code\": {\r\n            type: \"text\",\r\n            editable: true\r\n        },\r\n        \"course name\": {\r\n            type: \"text\",\r\n            editable: true\r\n        }\r\n    }\r\n\r\n    const settings = {\r\n        columnSettings: columnSettings,\r\n        fieldSettings: fieldSettings\r\n    }\r\n\r\n    res.json({success: true, settings: settings, message: \"Settings fetched!\"});\r\n}"],"mappings":"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"}},"mtime":1662819857436},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\polytechnicCourse.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const express = require(\"express\");\n\nconst courseRoutes = require(\"../controller/polytechnicCourseController.js\");\n\nconst router = express.Router();\nrouter.post(\"/allCourses\", courseRoutes.allCourses);\nrouter.post(\"/create\", courseRoutes.create);\nrouter.post(\"/delete\", courseRoutes.delete);\nrouter.post(\"/update\", courseRoutes.update);\nrouter.post(\"/settings\", courseRoutes.settings);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNvdXJzZVJvdXRlcyIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJhbGxDb3Vyc2VzIiwiY3JlYXRlIiwiZGVsZXRlIiwidXBkYXRlIiwic2V0dGluZ3MiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcSUNUMjEwMy1Qcm9qXFxFeGVtcHRpb25DaGVja2VyXFxzZXJ2ZXJcXHJvdXRlc1xcIiwic291cmNlcyI6WyJwb2x5dGVjaG5pY0NvdXJzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcblxyXG5jb25zdCBjb3Vyc2VSb3V0ZXMgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9wb2x5dGVjaG5pY0NvdXJzZUNvbnRyb2xsZXIuanNcIik7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWxsQ291cnNlc1wiLCBjb3Vyc2VSb3V0ZXMuYWxsQ291cnNlcyk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9jcmVhdGVcIiwgY291cnNlUm91dGVzLmNyZWF0ZSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9kZWxldGVcIiwgY291cnNlUm91dGVzLmRlbGV0ZSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi91cGRhdGVcIiwgY291cnNlUm91dGVzLnVwZGF0ZSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9zZXR0aW5nc1wiLCBjb3Vyc2VSb3V0ZXMuc2V0dGluZ3MpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcblxyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBRUEsTUFBTUMsWUFBWSxHQUFHRCxPQUFPLENBQUMsOENBQUQsQ0FBNUI7O0FBRUEsTUFBTUUsTUFBTSxHQUFHSCxPQUFPLENBQUNJLE1BQVIsRUFBZjtBQUVBRCxNQUFNLENBQUNFLElBQVAsQ0FBWSxhQUFaLEVBQTJCSCxZQUFZLENBQUNJLFVBQXhDO0FBRUFILE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFNBQVosRUFBdUJILFlBQVksQ0FBQ0ssTUFBcEM7QUFFQUosTUFBTSxDQUFDRSxJQUFQLENBQVksU0FBWixFQUF1QkgsWUFBWSxDQUFDTSxNQUFwQztBQUVBTCxNQUFNLENBQUNFLElBQVAsQ0FBWSxTQUFaLEVBQXVCSCxZQUFZLENBQUNPLE1BQXBDO0FBRUFOLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFdBQVosRUFBeUJILFlBQVksQ0FBQ1EsUUFBdEM7QUFFQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCVCxNQUFqQiJ9","map":{"version":3,"names":["express","require","courseRoutes","router","Router","post","allCourses","create","delete","update","settings","module","exports"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\routes\\","sources":["polytechnicCourse.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\nconst courseRoutes = require(\"../controller/polytechnicCourseController.js\");\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/allCourses\", courseRoutes.allCourses);\r\n\r\nrouter.post(\"/create\", courseRoutes.create);\r\n\r\nrouter.post(\"/delete\", courseRoutes.delete);\r\n\r\nrouter.post(\"/update\", courseRoutes.update);\r\n\r\nrouter.post(\"/settings\", courseRoutes.settings);\r\n\r\nmodule.exports = router;\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,YAAY,GAAGD,OAAO,CAAC,8CAAD,CAA5B;;AAEA,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,aAAZ,EAA2BH,YAAY,CAACI,UAAxC;AAEAH,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,YAAY,CAACK,MAApC;AAEAJ,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,YAAY,CAACM,MAApC;AAEAL,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,YAAY,CAACO,MAApC;AAEAN,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBH,YAAY,CAACQ,QAAtC;AAEAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB"}},"mtime":1662892570069},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\polytechnicCourseController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const knex = require(\"../database.js\");\n\nexports.allCourses = async (req, res) => {\n  knex.select(\"*\").from(\"PolytechnicCourses\").join(\"Polytechnics\", function () {\n    this.on(\"PolytechnicCourses.polytechnic\", \"=\", \"Polytechnics.pid\");\n  }).then(data => {\n    console.log(data);\n    res.json({\n      success: true,\n      data,\n      message: \"Courses fetched!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.create = async (req, res) => {\n  knex.insert({\n    \"polytechnic\": req.body[\"polytechnic\"],\n    \"course name\": req.body[\"course name\"],\n    \"course code\": req.body[\"course code\"]\n  }).into(\"PolytechnicCourses\").then(data => {\n    res.json({\n      success: true,\n      data,\n      message: \"Course created!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.delete = async (req, res) => {\n  const {\n    cid\n  } = req.body;\n  knex.delete().from(\"PolytechnicCourses\").where({\n    cid: cid\n  }).then(courseData => {\n    res.json(courseData);\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.update = async (req, res) => {\n  console.log(req.body);\n  knex.update({\n    cid: req.body[\"cid\"],\n    \"polytechnic\": req.body[\"Polytechnic\"],\n    \"course name\": req.body[\"course name\"],\n    \"course code\": req.body[\"course code\"]\n  }).from(\"PolytechnicCourses\").where({\n    cid: req.body[\"cid\"]\n  }).then(data => {\n    knex.select(\"*\").from(\"PolytechnicCourses\").then(data => {\n      res.json({\n        success: true,\n        data,\n        message: \"Courses fetched!\"\n      });\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.settings = async (req, res) => {\n  polytechnics = await knex.select(\"*\").from(\"Polytechnics\").then(polyData => {\n    var tempPolyList = [];\n    console.log(polyData);\n\n    for (poly in polyData) {\n      tempPolyList.push({\n        label: polyData[poly][\"polytechnic name\"],\n        value: polyData[poly][\"pid\"]\n      });\n    }\n\n    console.log(tempPolyList);\n    return tempPolyList;\n  });\n  const columnSettings = {\n    // Configures the headers of the table\n    // Pls match header names with column names (case sensitive!)\n    headers: [\"cid\", \"polytechnic name\", \"course code\", \"course name\"]\n  };\n  const fieldSettings = {\n    // Configures the fields of the table\n    \"cid\": {\n      type: \"number\",\n      editable: false,\n      primaryKey: true,\n      displayLabel: \"Course ID\"\n    },\n    \"polytechnic\": {\n      type: \"dropdown\",\n      editable: true,\n      displayLabel: \"Polytechnic\",\n      options: polytechnics\n    },\n    \"course code\": {\n      type: \"text\",\n      editable: true,\n      displayLabel: \"Course Code\"\n    },\n    \"course name\": {\n      type: \"text\",\n      editable: true,\n      displayLabel: \"Course Name\"\n    }\n  };\n  const settings = {\n    columnSettings: columnSettings,\n    fieldSettings: fieldSettings\n  };\n  res.json({\n    success: true,\n    settings: settings,\n    message: \"Settings fetched!\"\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJrbmV4IiwicmVxdWlyZSIsImV4cG9ydHMiLCJhbGxDb3Vyc2VzIiwicmVxIiwicmVzIiwic2VsZWN0IiwiZnJvbSIsImpvaW4iLCJvbiIsInRoZW4iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsImNhdGNoIiwiZXJyIiwiY3JlYXRlIiwiaW5zZXJ0IiwiYm9keSIsImludG8iLCJkZWxldGUiLCJjaWQiLCJ3aGVyZSIsImNvdXJzZURhdGEiLCJ1cGRhdGUiLCJzZXR0aW5ncyIsInBvbHl0ZWNobmljcyIsInBvbHlEYXRhIiwidGVtcFBvbHlMaXN0IiwicG9seSIsInB1c2giLCJsYWJlbCIsInZhbHVlIiwiY29sdW1uU2V0dGluZ3MiLCJoZWFkZXJzIiwiZmllbGRTZXR0aW5ncyIsInR5cGUiLCJlZGl0YWJsZSIsInByaW1hcnlLZXkiLCJkaXNwbGF5TGFiZWwiLCJvcHRpb25zIl0sInNvdXJjZVJvb3QiOiJEOlxcSUNUMjEwMy1Qcm9qXFxFeGVtcHRpb25DaGVja2VyXFxzZXJ2ZXJcXGNvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsicG9seXRlY2huaWNDb3Vyc2VDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGtuZXggPSByZXF1aXJlKFwiLi4vZGF0YWJhc2UuanNcIik7XHJcblxyXG5leHBvcnRzLmFsbENvdXJzZXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGtuZXguc2VsZWN0KFwiKlwiKS5mcm9tKFwiUG9seXRlY2huaWNDb3Vyc2VzXCIpLmpvaW4oXCJQb2x5dGVjaG5pY3NcIiwgZnVuY3Rpb24oKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5vbihcIlBvbHl0ZWNobmljQ291cnNlcy5wb2x5dGVjaG5pY1wiLCBcIj1cIiwgXCJQb2x5dGVjaG5pY3MucGlkXCIpXHJcbiAgICAgICAgfSkudGhlbihkYXRhID0+e1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOnRydWUsIGRhdGEsIG1lc3NhZ2U6IFwiQ291cnNlcyBmZXRjaGVkIVwifSk7XHJcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOmZhbHNlLCBtZXNzYWdlOiBlcnIubWVzc2FnZX0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydHMuY3JlYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBrbmV4Lmluc2VydCh7XCJwb2x5dGVjaG5pY1wiOiByZXEuYm9keVtcInBvbHl0ZWNobmljXCJdLCBcImNvdXJzZSBuYW1lXCI6IHJlcS5ib2R5W1wiY291cnNlIG5hbWVcIl0sXCJjb3Vyc2UgY29kZVwiOiByZXEuYm9keVtcImNvdXJzZSBjb2RlXCJdfSkuaW50byhcIlBvbHl0ZWNobmljQ291cnNlc1wiKS50aGVuKGRhdGEgPT57XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6dHJ1ZSwgZGF0YSwgbWVzc2FnZTogXCJDb3Vyc2UgY3JlYXRlZCFcIn0pO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuanNvbih7c3VjY2VzczpmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLmRlbGV0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qge2NpZH0gPSByZXEuYm9keTtcclxuICAgIGtuZXguZGVsZXRlKCkuZnJvbShcIlBvbHl0ZWNobmljQ291cnNlc1wiKS53aGVyZSh7Y2lkOiBjaWR9KS50aGVuKGNvdXJzZURhdGEgPT57XHJcbiAgICAgICAgcmVzLmpzb24oY291cnNlRGF0YSlcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6ZmFsc2UsIG1lc3NhZ2U6IGVyci5tZXNzYWdlfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0cy51cGRhdGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgIGtuZXgudXBkYXRlKHtjaWQ6IHJlcS5ib2R5W1wiY2lkXCJdLCBcInBvbHl0ZWNobmljXCI6IHJlcS5ib2R5W1wiUG9seXRlY2huaWNcIl0sIFwiY291cnNlIG5hbWVcIjogcmVxLmJvZHlbXCJjb3Vyc2UgbmFtZVwiXSwgXCJjb3Vyc2UgY29kZVwiOiByZXEuYm9keVtcImNvdXJzZSBjb2RlXCJdfSkuZnJvbShcIlBvbHl0ZWNobmljQ291cnNlc1wiKS53aGVyZSh7Y2lkOiAgcmVxLmJvZHlbXCJjaWRcIl19KS50aGVuKGRhdGEgPT57XHJcbiAgICAgICAga25leC5zZWxlY3QoXCIqXCIpLmZyb20oXCJQb2x5dGVjaG5pY0NvdXJzZXNcIikudGhlbihkYXRhID0+eyBcclxuICAgICAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6dHJ1ZSwgZGF0YSwgbWVzc2FnZTogXCJDb3Vyc2VzIGZldGNoZWQhXCJ9KTtcclxuICAgICAgICB9KVxyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuanNvbih7c3VjY2VzczpmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLnNldHRpbmdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBwb2x5dGVjaG5pY3MgPSBhd2FpdCBrbmV4LnNlbGVjdChcIipcIikuZnJvbShcIlBvbHl0ZWNobmljc1wiKS50aGVuKHBvbHlEYXRhID0+e1xyXG4gICAgICAgIHZhciB0ZW1wUG9seUxpc3QgPSBbXTtcclxuICAgICAgICBjb25zb2xlLmxvZyhwb2x5RGF0YSk7XHJcbiAgICAgICAgZm9yKHBvbHkgaW4gcG9seURhdGEpe1xyXG4gICAgICAgICAgICB0ZW1wUG9seUxpc3QucHVzaCh7bGFiZWw6IHBvbHlEYXRhW3BvbHldW1wicG9seXRlY2huaWMgbmFtZVwiXSwgdmFsdWU6ICBwb2x5RGF0YVtwb2x5XVtcInBpZFwiXX0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyh0ZW1wUG9seUxpc3QpXHJcbiAgICAgICAgcmV0dXJuIHRlbXBQb2x5TGlzdDtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBjb25zdCBjb2x1bW5TZXR0aW5ncyA9IHtcclxuICAgICAgICAvLyBDb25maWd1cmVzIHRoZSBoZWFkZXJzIG9mIHRoZSB0YWJsZVxyXG4gICAgICAgIC8vIFBscyBtYXRjaCBoZWFkZXIgbmFtZXMgd2l0aCBjb2x1bW4gbmFtZXMgKGNhc2Ugc2Vuc2l0aXZlISlcclxuICAgICAgICBoZWFkZXJzOiBbXHJcbiAgICAgICAgICAgIFwiY2lkXCIsXHJcbiAgICAgICAgICAgIFwicG9seXRlY2huaWMgbmFtZVwiLFxyXG4gICAgICAgICAgICBcImNvdXJzZSBjb2RlXCIsXHJcbiAgICAgICAgICAgIFwiY291cnNlIG5hbWVcIixcclxuICAgICAgICBdLFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpZWxkU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgLy8gQ29uZmlndXJlcyB0aGUgZmllbGRzIG9mIHRoZSB0YWJsZVxyXG4gICAgICAgIFwiY2lkXCI6IHtcclxuICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcclxuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxyXG4gICAgICAgICAgICBkaXNwbGF5TGFiZWw6IFwiQ291cnNlIElEXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInBvbHl0ZWNobmljXCI6IHtcclxuICAgICAgICAgICAgdHlwZTogXCJkcm9wZG93blwiLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZGlzcGxheUxhYmVsOiBcIlBvbHl0ZWNobmljXCIsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IHBvbHl0ZWNobmljcyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiY291cnNlIGNvZGVcIjoge1xyXG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGRpc3BsYXlMYWJlbDogXCJDb3Vyc2UgQ29kZVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb3Vyc2UgbmFtZVwiOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZGlzcGxheUxhYmVsOiBcIkNvdXJzZSBOYW1lXCIsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNldHRpbmdzID0ge1xyXG4gICAgICAgIGNvbHVtblNldHRpbmdzOiBjb2x1bW5TZXR0aW5ncyxcclxuICAgICAgICBmaWVsZFNldHRpbmdzOiBmaWVsZFNldHRpbmdzXHJcbiAgICB9XHJcblxyXG4gICAgcmVzLmpzb24oe3N1Y2Nlc3M6IHRydWUsIHNldHRpbmdzOiBzZXR0aW5ncywgbWVzc2FnZTogXCJTZXR0aW5ncyBmZXRjaGVkIVwifSk7XHJcbn0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLGdCQUFELENBQXBCOztBQUVBQyxPQUFPLENBQUNDLFVBQVIsR0FBcUIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQ3JDTCxJQUFJLENBQUNNLE1BQUwsQ0FBWSxHQUFaLEVBQWlCQyxJQUFqQixDQUFzQixvQkFBdEIsRUFBNENDLElBQTVDLENBQWlELGNBQWpELEVBQWlFLFlBQzdEO0lBQ0ksS0FBS0MsRUFBTCxDQUFRLGdDQUFSLEVBQTBDLEdBQTFDLEVBQStDLGtCQUEvQztFQUNILENBSEwsRUFHT0MsSUFIUCxDQUdZQyxJQUFJLElBQUc7SUFDZkMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLElBQVo7SUFDQU4sR0FBRyxD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","map":{"version":3,"names":["knex","require","exports","allCourses","req","res","select","from","join","on","then","data","console","log","json","success","message","catch","err","create","insert","body","into","delete","cid","where","courseData","update","settings","polytechnics","polyData","tempPolyList","poly","push","label","value","columnSettings","headers","fieldSettings","type","editable","primaryKey","displayLabel","options"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\controller\\","sources":["polytechnicCourseController.js"],"sourcesContent":["const knex = require(\"../database.js\");\r\n\r\nexports.allCourses = async (req, res) => {\r\n    knex.select(\"*\").from(\"PolytechnicCourses\").join(\"Polytechnics\", function()\r\n        {\r\n            this.on(\"PolytechnicCourses.polytechnic\", \"=\", \"Polytechnics.pid\")\r\n        }).then(data =>{\r\n        console.log(data);\r\n        res.json({success:true, data, message: \"Courses fetched!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.create = async (req, res) => {\r\n    knex.insert({\"polytechnic\": req.body[\"polytechnic\"], \"course name\": req.body[\"course name\"],\"course code\": req.body[\"course code\"]}).into(\"PolytechnicCourses\").then(data =>{\r\n        res.json({success:true, data, message: \"Course created!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.delete = async (req, res) => {\r\n    const {cid} = req.body;\r\n    knex.delete().from(\"PolytechnicCourses\").where({cid: cid}).then(courseData =>{\r\n        res.json(courseData)\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.update = async (req, res) => {\r\n    console.log(req.body);\r\n    knex.update({cid: req.body[\"cid\"], \"polytechnic\": req.body[\"Polytechnic\"], \"course name\": req.body[\"course name\"], \"course code\": req.body[\"course code\"]}).from(\"PolytechnicCourses\").where({cid:  req.body[\"cid\"]}).then(data =>{\r\n        knex.select(\"*\").from(\"PolytechnicCourses\").then(data =>{ \r\n            res.json({success:true, data, message: \"Courses fetched!\"});\r\n        })\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.settings = async (req, res) => {\r\n    polytechnics = await knex.select(\"*\").from(\"Polytechnics\").then(polyData =>{\r\n        var tempPolyList = [];\r\n        console.log(polyData);\r\n        for(poly in polyData){\r\n            tempPolyList.push({label: polyData[poly][\"polytechnic name\"], value:  polyData[poly][\"pid\"]});\r\n        }\r\n        console.log(tempPolyList)\r\n        return tempPolyList;\r\n    });\r\n\r\n\r\n    const columnSettings = {\r\n        // Configures the headers of the table\r\n        // Pls match header names with column names (case sensitive!)\r\n        headers: [\r\n            \"cid\",\r\n            \"polytechnic name\",\r\n            \"course code\",\r\n            \"course name\",\r\n        ],\r\n    }\r\n\r\n    const fieldSettings = {\r\n        // Configures the fields of the table\r\n        \"cid\": {\r\n            type: \"number\",\r\n            editable: false,\r\n            primaryKey: true,\r\n            displayLabel: \"Course ID\",\r\n        },\r\n        \"polytechnic\": {\r\n            type: \"dropdown\",\r\n            editable: true,\r\n            displayLabel: \"Polytechnic\",\r\n            options: polytechnics,\r\n        },\r\n        \"course code\": {\r\n            type: \"text\",\r\n            editable: true,\r\n            displayLabel: \"Course Code\",\r\n        },\r\n        \"course name\": {\r\n            type: \"text\",\r\n            editable: true,\r\n            displayLabel: \"Course Name\",\r\n        }\r\n    }\r\n\r\n    const settings = {\r\n        columnSettings: columnSettings,\r\n        fieldSettings: fieldSettings\r\n    }\r\n\r\n    res.json({success: true, settings: settings, message: \"Settings fetched!\"});\r\n}"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,gBAAD,CAApB;;AAEAC,OAAO,CAACC,UAAR,GAAqB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EACrCL,IAAI,CAACM,MAAL,CAAY,GAAZ,EAAiBC,IAAjB,CAAsB,oBAAtB,EAA4CC,IAA5C,CAAiD,cAAjD,EAAiE,YAC7D;IACI,KAAKC,EAAL,CAAQ,gCAAR,EAA0C,GAA1C,EAA+C,kBAA/C;EACH,CAHL,EAGOC,IAHP,CAGYC,IAAI,IAAG;IACfC,OAAO,CAACC,GAAR,CAAYF,IAAZ;IACAN,GAAG,CAACS,IAAJ,CAAS;MAACC,OAAO,EAAC,IAAT;MAAeJ,IAAf;MAAqBK,OAAO,EAAE;IAA9B,CAAT;EACH,CAND,EAMGC,KANH,CAMSC,GAAG,IAAI;IACZb,GAAG,CAACS,IAAJ,CAAS;MAACC,OAAO,EAAC,KAAT;MAAgBC,OAAO,EAAEE,GAAG,CAACF;IAA7B,CAAT;EACH,CARD;AASH,CAVD;;AAYAd,OAAO,CAACiB,MAAR,GAAiB,OAAOf,GAAP,EAAYC,GAAZ,KAAoB;EACjCL,IAAI,CAACoB,MAAL,CAAY;IAAC,eAAehB,GAAG,CAACiB,IAAJ,CAAS,aAAT,CAAhB;IAAyC,eAAejB,GAAG,CAACiB,IAAJ,CAAS,aAAT,CAAxD;IAAgF,eAAejB,GAAG,CAACiB,IAAJ,CAAS,aAAT;EAA/F,CAAZ,EAAqIC,IAArI,CAA0I,oBAA1I,EAAgKZ,IAAhK,CAAqKC,IAAI,IAAG;IACxKN,GAAG,CAACS,IAAJ,CAAS;MAACC,OAAO,EAAC,IAAT;MAAeJ,IAAf;MAAqBK,OAAO,EAAE;IAA9B,CAAT;EACH,CAFD,EAEGC,KAFH,CAESC,GAAG,IAAI;IACZb,GAAG,CAACS,IAAJ,CAAS;MAACC,OAAO,EAAC,KAAT;MAAgBC,OAAO,EAAEE,GAAG,CAACF;IAA7B,CAAT;EACH,CAJD;AAKH,CAND;;AAQAd,OAAO,CAACqB,MAAR,GAAiB,OAAOnB,GAAP,EAAYC,GAAZ,KAAoB;EACjC,MAAM;IAACmB;EAAD,IAAQpB,GAAG,CAACiB,IAAlB;EACArB,IAAI,CAACuB,MAAL,GAAchB,IAAd,CAAmB,oBAAnB,EAAyCkB,KAAzC,CAA+C;IAACD,GAAG,EAAEA;EAAN,CAA/C,EAA2Dd,IAA3D,CAAgEgB,UAAU,IAAG;IACzErB,GAAG,CAACS,IAAJ,CAASY,UAAT;EACH,CAFD,EAEGT,KAFH,CAESC,GAAG,IAAI;IACZb,GAAG,CAACS,IAAJ,CAAS;MAACC,OAAO,EAAC,KAAT;MAAgBC,OAAO,EAAEE,GAAG,CAACF;IAA7B,CAAT;EACH,CAJD;AAKH,CAPD;;AASAd,OAAO,CAACyB,MAAR,GAAiB,OAAOvB,GAAP,EAAYC,GAAZ,KAAoB;EACjCO,OAAO,CAACC,GAAR,CAAYT,GAAG,CAACiB,IAAhB;EACArB,IAAI,CAAC2B,MAAL,CAAY;IAACH,GAAG,EAAEpB,GAAG,CAACiB,IAAJ,CAAS,KAAT,CAAN;IAAuB,eAAejB,GAAG,CAACiB,IAAJ,CAAS,aAAT,CAAtC;IAA+D,eAAejB,GAAG,CAACiB,IAAJ,CAAS,aAAT,CAA9E;IAAuG,eAAejB,GAAG,CAACiB,IAAJ,CAAS,aAAT;EAAtH,CAAZ,EAA4Jd,IAA5J,CAAiK,oBAAjK,EAAuLkB,KAAvL,CAA6L;IAACD,GAAG,EAAGpB,GAAG,CAACiB,IAAJ,CAAS,KAAT;EAAP,CAA7L,EAAsNX,IAAtN,CAA2NC,IAAI,IAAG;IAC9NX,IAAI,CAACM,MAAL,CAAY,GAAZ,EAAiBC,IAAjB,CAAsB,oBAAtB,EAA4CG,IAA5C,CAAiDC,IAAI,IAAG;MACpDN,GAAG,CAACS,IAAJ,CAAS;QAACC,OAAO,EAAC,IAAT;QAAeJ,IAAf;QAAqBK,OAAO,EAAE;MAA9B,CAAT;IACH,CAFD;EAGH,CAJD,EAIGC,KAJH,CAISC,GAAG,IAAI;IACZb,GAAG,CAACS,IAAJ,CAAS;MAACC,OAAO,EAAC,KAAT;MAAgBC,OAAO,EAAEE,GAAG,CAACF;IAA7B,CAAT;EACH,CAND;AAOH,CATD;;AAWAd,OAAO,CAAC0B,QAAR,GAAmB,OAAOxB,GAAP,EAAYC,GAAZ,KAAoB;EACnCwB,YAAY,GAAG,MAAM7B,IAAI,CAACM,MAAL,CAAY,GAAZ,EAAiBC,IAAjB,CAAsB,cAAtB,EAAsCG,IAAtC,CAA2CoB,QAAQ,IAAG;IACvE,IAAIC,YAAY,GAAG,EAAnB;IACAnB,OAAO,CAACC,GAAR,CAAYiB,QAAZ;;IACA,KAAIE,IAAJ,IAAYF,QAAZ,EAAqB;MACjBC,YAAY,CAACE,IAAb,CAAkB;QAACC,KAAK,EAAEJ,QAAQ,CAACE,IAAD,CAAR,CAAe,kBAAf,CAAR;QAA4CG,KAAK,EAAGL,QAAQ,CAACE,IAAD,CAAR,CAAe,KAAf;MAApD,CAAlB;IACH;;IACDpB,OAAO,CAACC,GAAR,CAAYkB,YAAZ;IACA,OAAOA,YAAP;EACH,CARoB,CAArB;EAWA,MAAMK,cAAc,GAAG;IACnB;IACA;IACAC,OAAO,EAAE,CACL,KADK,EAEL,kBAFK,EAGL,aAHK,EAIL,aAJK;EAHU,CAAvB;EAWA,MAAMC,aAAa,GAAG;IAClB;IACA,OAAO;MACHC,IAAI,EAAE,QADH;MAEHC,QAAQ,EAAE,KAFP;MAGHC,UAAU,EAAE,IAHT;MAIHC,YAAY,EAAE;IAJX,CAFW;IAQlB,eAAe;MACXH,IAAI,EAAE,UADK;MAEXC,QAAQ,EAAE,IAFC;MAGXE,YAAY,EAAE,aAHH;MAIXC,OAAO,EAAEd;IAJE,CARG;IAclB,eAAe;MACXU,IAAI,EAAE,MADK;MAEXC,QAAQ,EAAE,IAFC;MAGXE,YAAY,EAAE;IAHH,CAdG;IAmBlB,eAAe;MACXH,IAAI,EAAE,MADK;MAEXC,QAAQ,EAAE,IAFC;MAGXE,YAAY,EAAE;IAHH;EAnBG,CAAtB;EA0BA,MAAMd,QAAQ,GAAG;IACbQ,cAAc,EAAEA,cADH;IAEbE,aAAa,EAAEA;EAFF,CAAjB;EAKAjC,GAAG,CAACS,IAAJ,CAAS;IAACC,OAAO,EAAE,IAAV;IAAgBa,QAAQ,EAAEA,QAA1B;IAAoCZ,OAAO,EAAE;EAA7C,CAAT;AACH,CAvDD"}},"mtime":1662918635728},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\polytechnicModule.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const express = require(\"express\");\n\nconst moduleRoutes = require(\"../controller/polytechnicModuleController.js\");\n\nconst router = express.Router();\nrouter.post(\"/allModules\", moduleRoutes.allModules);\nrouter.post(\"/create\", moduleRoutes.create);\nrouter.post(\"/delete\", moduleRoutes.delete);\nrouter.post(\"/update\", moduleRoutes.update);\nrouter.post(\"/settings\", moduleRoutes.settings);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vZHVsZVJvdXRlcyIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJhbGxNb2R1bGVzIiwiY3JlYXRlIiwiZGVsZXRlIiwidXBkYXRlIiwic2V0dGluZ3MiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcSUNUMjEwMy1Qcm9qXFxFeGVtcHRpb25DaGVja2VyXFxzZXJ2ZXJcXHJvdXRlc1xcIiwic291cmNlcyI6WyJwb2x5dGVjaG5pY01vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcblxyXG5jb25zdCBtb2R1bGVSb3V0ZXMgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9wb2x5dGVjaG5pY01vZHVsZUNvbnRyb2xsZXIuanNcIik7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWxsTW9kdWxlc1wiLCBtb2R1bGVSb3V0ZXMuYWxsTW9kdWxlcyk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9jcmVhdGVcIiwgbW9kdWxlUm91dGVzLmNyZWF0ZSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9kZWxldGVcIiwgbW9kdWxlUm91dGVzLmRlbGV0ZSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi91cGRhdGVcIiwgbW9kdWxlUm91dGVzLnVwZGF0ZSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9zZXR0aW5nc1wiLCBtb2R1bGVSb3V0ZXMuc2V0dGluZ3MpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFFQSxNQUFNQyxZQUFZLEdBQUdELE9BQU8sQ0FBQyw4Q0FBRCxDQUE1Qjs7QUFFQSxNQUFNRSxNQUFNLEdBQUdILE9BQU8sQ0FBQ0ksTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLGFBQVosRUFBMkJILFlBQVksQ0FBQ0ksVUFBeEM7QUFFQUgsTUFBTSxDQUFDRSxJQUFQLENBQVksU0FBWixFQUF1QkgsWUFBWSxDQUFDSyxNQUFwQztBQUVBSixNQUFNLENBQUNFLElBQVAsQ0FBWSxTQUFaLEVBQXVCSCxZQUFZLENBQUNNLE1BQXBDO0FBRUFMLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFNBQVosRUFBdUJILFlBQVksQ0FBQ08sTUFBcEM7QUFFQU4sTUFBTSxDQUFDRSxJQUFQLENBQVksV0FBWixFQUF5QkgsWUFBWSxDQUFDUSxRQUF0QztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJULE1BQWpCIn0=","map":{"version":3,"names":["express","require","moduleRoutes","router","Router","post","allModules","create","delete","update","settings","module","exports"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\routes\\","sources":["polytechnicModule.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\nconst moduleRoutes = require(\"../controller/polytechnicModuleController.js\");\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/allModules\", moduleRoutes.allModules);\r\n\r\nrouter.post(\"/create\", moduleRoutes.create);\r\n\r\nrouter.post(\"/delete\", moduleRoutes.delete);\r\n\r\nrouter.post(\"/update\", moduleRoutes.update);\r\n\r\nrouter.post(\"/settings\", moduleRoutes.settings);\r\n\r\nmodule.exports = router;\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,YAAY,GAAGD,OAAO,CAAC,8CAAD,CAA5B;;AAEA,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,aAAZ,EAA2BH,YAAY,CAACI,UAAxC;AAEAH,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,YAAY,CAACK,MAApC;AAEAJ,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,YAAY,CAACM,MAApC;AAEAL,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,YAAY,CAACO,MAApC;AAEAN,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBH,YAAY,CAACQ,QAAtC;AAEAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB"}},"mtime":1662876070503},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\polytechnicModuleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const knex = require(\"../database.js\");\n\nexports.allModules = async (req, res) => {\n  knex.select(\"*\").from(\"PolytechnicModules\").join(\"PolytechnicCourses\", function () {\n    this.on(\"PolytechnicModules.polytechnicCourse\", \"=\", \"PolytechnicCourses.cid\");\n  }).then(data => {\n    res.json({\n      success: true,\n      data,\n      message: \"Polytechnics fetched!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.create = async (req, res) => {\n  console.log(req.body);\n  knex.insert({\n    \"module code\": req.body[\"module code\"],\n    \"module name\": req.body[\"module name\"],\n    \"polytechnicCourse\": req.body[\"polytechnicCourse\"]\n  }).into(\"PolytechnicModules\").then(data => {\n    res.json({\n      success: true,\n      data,\n      message: \"Module created!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.delete = async (req, res) => {\n  const {\n    mid\n  } = req.body;\n  knex.delete().from(\"PolytechnicModules\").where({\n    mid: mid\n  }).then(polytechnicModuleData => {\n    res.json({\n      success: true,\n      polytechnicModuleData,\n      message: \"Polytechnic deleted!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.update = async (req, res) => {\n  knex.update({\n    mid: req.body[\"mid\"],\n    \"module code\": req.body[\"module code\"],\n    \"module name\": req.body[\"module name\"],\n    \"polytechnicCourse\": req.body[\"polytechnicCourse\"]\n  }).from(\"PolytechnicModules\").where({\n    mid: mid\n  }).then(data => {\n    knex.select(\"*\").from(\"PolytechnicModules\").then(data => {\n      res.json({\n        success: true,\n        data,\n        message: \"Polytechnics fetched!\"\n      });\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.settings = async (req, res) => {\n  polytechnicCourses = await knex.select(\"*\").from(\"PolytechnicCourses\").then(polyCourseData => {\n    var tempCourseList = [];\n    console.log(polyCourseData);\n\n    for (polycourse in polyCourseData) {\n      tempCourseList.push({\n        label: polyCourseData[polycourse][\"course code\"] + \" - \" + polyCourseData[polycourse][\"course name\"],\n        value: polyCourseData[polycourse][\"cid\"]\n      });\n    }\n\n    console.log(tempCourseList);\n    return tempCourseList;\n  });\n  const columnSettings = {\n    // Configures the headers of the table\n    // Pls match header names with column names (case sensitive!)\n    headers: [\"mid\", \"module code\", \"module name\", \"course name\"]\n  };\n  const fieldSettings = {\n    // Configures the fields of the table\n    \"mid\": {\n      type: \"number\",\n      editable: false,\n      primaryKey: true,\n      displayLabel: \"Module ID\"\n    },\n    \"module code\": {\n      type: \"text\",\n      editable: true,\n      displayLabel: \"Module Code\"\n    },\n    \"module name\": {\n      type: \"text\",\n      editable: true,\n      displayLabel: \"Module Name\"\n    },\n    \"polytechnicCourse\": {\n      type: \"dropdown\",\n      editable: true,\n      displayLabel: \"Polytechnic Course\",\n      options: polytechnicCourses\n    }\n  };\n  const settings = {\n    columnSettings: columnSettings,\n    fieldSettings: fieldSettings\n  };\n  res.json({\n    success: true,\n    settings: settings,\n    message: \"Settings fetched!\"\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJrbmV4IiwicmVxdWlyZSIsImV4cG9ydHMiLCJhbGxNb2R1bGVzIiwicmVxIiwicmVzIiwic2VsZWN0IiwiZnJvbSIsImpvaW4iLCJvbiIsInRoZW4iLCJkYXRhIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiY2F0Y2giLCJlcnIiLCJjcmVhdGUiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImluc2VydCIsImludG8iLCJkZWxldGUiLCJtaWQiLCJ3aGVyZSIsInBvbHl0ZWNobmljTW9kdWxlRGF0YSIsInVwZGF0ZSIsInNldHRpbmdzIiwicG9seXRlY2huaWNDb3Vyc2VzIiwicG9seUNvdXJzZURhdGEiLCJ0ZW1wQ291cnNlTGlzdCIsInBvbHljb3Vyc2UiLCJwdXNoIiwibGFiZWwiLCJ2YWx1ZSIsImNvbHVtblNldHRpbmdzIiwiaGVhZGVycyIsImZpZWxkU2V0dGluZ3MiLCJ0eXBlIiwiZWRpdGFibGUiLCJwcmltYXJ5S2V5IiwiZGlzcGxheUxhYmVsIiwib3B0aW9ucyJdLCJzb3VyY2VSb290IjoiRDpcXElDVDIxMDMtUHJvalxcRXhlbXB0aW9uQ2hlY2tlclxcc2VydmVyXFxjb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbInBvbHl0ZWNobmljTW9kdWxlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBrbmV4ID0gcmVxdWlyZShcIi4uL2RhdGFiYXNlLmpzXCIpO1xyXG5cclxuZXhwb3J0cy5hbGxNb2R1bGVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBrbmV4LnNlbGVjdChcIipcIikuZnJvbShcIlBvbHl0ZWNobmljTW9kdWxlc1wiKS5qb2luKFwiUG9seXRlY2huaWNDb3Vyc2VzXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5vbihcIlBvbHl0ZWNobmljTW9kdWxlcy5wb2x5dGVjaG5pY0NvdXJzZVwiLCBcIj1cIiwgXCJQb2x5dGVjaG5pY0NvdXJzZXMuY2lkXCIpXHJcbiAgICB9KS50aGVuKGRhdGEgPT57XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6dHJ1ZSwgZGF0YSwgbWVzc2FnZTogXCJQb2x5dGVjaG5pY3MgZmV0Y2hlZCFcIn0pO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuanNvbih7c3VjY2VzczpmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLmNyZWF0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xyXG4gICAga25leC5pbnNlcnQoe1wibW9kdWxlIGNvZGVcIjogcmVxLmJvZHlbXCJtb2R1bGUgY29kZVwiXSwgXCJtb2R1bGUgbmFtZVwiIDogcmVxLmJvZHlbXCJtb2R1bGUgbmFtZVwiXSwgXCJwb2x5dGVjaG5pY0NvdXJzZVwiOnJlcS5ib2R5W1wicG9seXRlY2huaWNDb3Vyc2VcIl19KS5pbnRvKFwiUG9seXRlY2huaWNNb2R1bGVzXCIpLnRoZW4oZGF0YSA9PntcclxuICAgICAgICByZXMuanNvbih7c3VjY2Vzczp0cnVlLCBkYXRhLCBtZXNzYWdlOiBcIk1vZHVsZSBjcmVhdGVkIVwifSk7XHJcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOmZhbHNlLCBtZXNzYWdlOiBlcnIubWVzc2FnZX0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydHMuZGVsZXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7bWlkfSA9IHJlcS5ib2R5O1xyXG4gICAga25leC5kZWxldGUoKS5mcm9tKFwiUG9seXRlY2huaWNNb2R1bGVzXCIpLndoZXJlKHttaWQ6IG1pZH0pLnRoZW4ocG9seXRlY2huaWNNb2R1bGVEYXRhID0+e1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOiB0cnVlLCBwb2x5dGVjaG5pY01vZHVsZURhdGEsIG1lc3NhZ2U6IFwiUG9seXRlY2huaWMgZGVsZXRlZCFcIn0pO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuanNvbih7c3VjY2VzczpmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLnVwZGF0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAga25leC51cGRhdGUoe21pZDogcmVxLmJvZHlbXCJtaWRcIl0sIFwibW9kdWxlIGNvZGVcIjogcmVxLmJvZHlbXCJtb2R1bGUgY29kZVwiXSwgXCJtb2R1bGUgbmFtZVwiIDogcmVxLmJvZHlbXCJtb2R1bGUgbmFtZVwiXSwgXCJwb2x5dGVjaG5pY0NvdXJzZVwiOnJlcS5ib2R5W1wicG9seXRlY2huaWNDb3Vyc2VcIl19KS5mcm9tKFwiUG9seXRlY2huaWNNb2R1bGVzXCIpLndoZXJlKHttaWQ6IG1pZH0pLnRoZW4oZGF0YSA9PntcclxuICAgICAgICBrbmV4LnNlbGVjdChcIipcIikuZnJvbShcIlBvbHl0ZWNobmljTW9kdWxlc1wiKS50aGVuKGRhdGEgPT57IFxyXG4gICAgICAgICAgICByZXMuanNvbih7c3VjY2Vzczp0cnVlLCBkYXRhLCBtZXNzYWdlOiBcIlBvbHl0ZWNobmljcyBmZXRjaGVkIVwifSk7XHJcbiAgICAgICAgfSlcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6ZmFsc2UsIG1lc3NhZ2U6IGVyci5tZXNzYWdlfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0cy5zZXR0aW5ncyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgXHJcbiAgICBcclxuICAgIHBvbHl0ZWNobmljQ291cnNlcyA9IGF3YWl0IGtuZXguc2VsZWN0KFwiKlwiKS5mcm9tKFwiUG9seXRlY2huaWNDb3Vyc2VzXCIpLnRoZW4ocG9seUNvdXJzZURhdGEgPT57XHJcbiAgICAgICAgdmFyIHRlbXBDb3Vyc2VMaXN0ID0gW107XHJcbiAgICAgICAgY29uc29sZS5sb2cocG9seUNvdXJzZURhdGEpO1xyXG4gICAgICAgIGZvcihwb2x5Y291cnNlIGluIHBvbHlDb3Vyc2VEYXRhKXtcclxuICAgICAgICAgICAgdGVtcENvdXJzZUxpc3QucHVzaCh7bGFiZWw6IHBvbHlDb3Vyc2VEYXRhW3BvbHljb3Vyc2VdW1wiY291cnNlIGNvZGVcIl0gKyBcIiAtIFwiICsgIHBvbHlDb3Vyc2VEYXRhW3BvbHljb3Vyc2VdW1wiY291cnNlIG5hbWVcIl0sIHZhbHVlOiAgcG9seUNvdXJzZURhdGFbcG9seWNvdXJzZV1bXCJjaWRcIl19KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2codGVtcENvdXJzZUxpc3QpXHJcbiAgICAgICAgcmV0dXJuIHRlbXBDb3Vyc2VMaXN0O1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgY29sdW1uU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgLy8gQ29uZmlndXJlcyB0aGUgaGVhZGVycyBvZiB0aGUgdGFibGVcclxuICAgICAgICAvLyBQbHMgbWF0Y2ggaGVhZGVyIG5hbWVzIHdpdGggY29sdW1uIG5hbWVzIChjYXNlIHNlbnNpdGl2ZSEpXHJcbiAgICAgICAgaGVhZGVyczogW1xyXG4gICAgICAgICAgICBcIm1pZFwiLFxyXG4gICAgICAgICAgICBcIm1vZHVsZSBjb2RlXCIsXHJcbiAgICAgICAgICAgIFwibW9kdWxlIG5hbWVcIixcclxuICAgICAgICAgICAgXCJjb3Vyc2UgbmFtZVwiLFxyXG4gICAgICAgIF0sXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmllbGRTZXR0aW5ncyA9IHtcclxuICAgICAgICAvLyBDb25maWd1cmVzIHRoZSBmaWVsZHMgb2YgdGhlIHRhYmxlXHJcbiAgICAgICAgXCJtaWRcIjoge1xyXG4gICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgICAgICAgIGRpc3BsYXlMYWJlbDogXCJNb2R1bGUgSURcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwibW9kdWxlIGNvZGVcIjoge1xyXG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGRpc3BsYXlMYWJlbDogXCJNb2R1bGUgQ29kZVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJtb2R1bGUgbmFtZVwiOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZGlzcGxheUxhYmVsOiBcIk1vZHVsZSBOYW1lXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInBvbHl0ZWNobmljQ291cnNlXCI6IHtcclxuICAgICAgICAgICAgdHlwZTogXCJkcm9wZG93blwiLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZGlzcGxheUxhYmVsOiBcIlBvbHl0ZWNobmljIENvdXJzZVwiLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBwb2x5dGVjaG5pY0NvdXJzZXMsXHJcbiAgICAgICAgfSxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzZXR0aW5ncyA9IHtcclxuICAgICAgICBjb2x1bW5TZXR0aW5nczogY29sdW1uU2V0dGluZ3MsXHJcbiAgICAgICAgZmllbGRTZXR0aW5nczogZmllbGRTZXR0aW5ncyxcclxuICAgIH1cclxuXHJcbiAgICByZXMuanNvbih7c3VjY2VzcyA6IHRydWUsIHNldHRpbmdzOiBzZXR0aW5ncywgbWVzc2FnZTogXCJTZXR0aW5ncyBmZXRjaGVkIVwifSk7XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxnQkFBRCxDQUFwQjs7QUFFQUMsT0FBTyxDQUFDQyxVQUFSLEdBQXFCLE9BQU9DLEdBQVAs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","map":{"version":3,"names":["knex","require","exports","allModules","req","res","select","from","join","on","then","data","json","success","message","catch","err","create","console","log","body","insert","into","delete","mid","where","polytechnicModuleData","update","settings","polytechnicCourses","polyCourseData","tempCourseList","polycourse","push","label","value","columnSettings","headers","fieldSettings","type","editable","primaryKey","displayLabel","options"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\controller\\","sources":["polytechnicModuleController.js"],"sourcesContent":["const knex = require(\"../database.js\");\r\n\r\nexports.allModules = async (req, res) => {\r\n    knex.select(\"*\").from(\"PolytechnicModules\").join(\"PolytechnicCourses\", function(){\r\n        this.on(\"PolytechnicModules.polytechnicCourse\", \"=\", \"PolytechnicCourses.cid\")\r\n    }).then(data =>{\r\n        res.json({success:true, data, message: \"Polytechnics fetched!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.create = async (req, res) => {\r\n    console.log(req.body);\r\n    knex.insert({\"module code\": req.body[\"module code\"], \"module name\" : req.body[\"module name\"], \"polytechnicCourse\":req.body[\"polytechnicCourse\"]}).into(\"PolytechnicModules\").then(data =>{\r\n        res.json({success:true, data, message: \"Module created!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.delete = async (req, res) => {\r\n    const {mid} = req.body;\r\n    knex.delete().from(\"PolytechnicModules\").where({mid: mid}).then(polytechnicModuleData =>{\r\n        res.json({success: true, polytechnicModuleData, message: \"Polytechnic deleted!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.update = async (req, res) => {\r\n    knex.update({mid: req.body[\"mid\"], \"module code\": req.body[\"module code\"], \"module name\" : req.body[\"module name\"], \"polytechnicCourse\":req.body[\"polytechnicCourse\"]}).from(\"PolytechnicModules\").where({mid: mid}).then(data =>{\r\n        knex.select(\"*\").from(\"PolytechnicModules\").then(data =>{ \r\n            res.json({success:true, data, message: \"Polytechnics fetched!\"});\r\n        })\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.settings = async (req, res) => {\r\n    \r\n    \r\n    polytechnicCourses = await knex.select(\"*\").from(\"PolytechnicCourses\").then(polyCourseData =>{\r\n        var tempCourseList = [];\r\n        console.log(polyCourseData);\r\n        for(polycourse in polyCourseData){\r\n            tempCourseList.push({label: polyCourseData[polycourse][\"course code\"] + \" - \" +  polyCourseData[polycourse][\"course name\"], value:  polyCourseData[polycourse][\"cid\"]});\r\n        }\r\n        console.log(tempCourseList)\r\n        return tempCourseList;\r\n    });\r\n\r\n    const columnSettings = {\r\n        // Configures the headers of the table\r\n        // Pls match header names with column names (case sensitive!)\r\n        headers: [\r\n            \"mid\",\r\n            \"module code\",\r\n            \"module name\",\r\n            \"course name\",\r\n        ],\r\n    }\r\n\r\n    const fieldSettings = {\r\n        // Configures the fields of the table\r\n        \"mid\": {\r\n            type: \"number\",\r\n            editable: false,\r\n            primaryKey: true,\r\n            displayLabel: \"Module ID\",\r\n        },\r\n        \"module code\": {\r\n            type: \"text\",\r\n            editable: true,\r\n            displayLabel: \"Module Code\",\r\n        },\r\n        \"module name\": {\r\n            type: \"text\",\r\n            editable: true,\r\n            displayLabel: \"Module Name\",\r\n        },\r\n        \"polytechnicCourse\": {\r\n            type: \"dropdown\",\r\n            editable: true,\r\n            displayLabel: \"Polytechnic Course\",\r\n            options: polytechnicCourses,\r\n        },\r\n    }\r\n\r\n    const settings = {\r\n        columnSettings: columnSettings,\r\n        fieldSettings: fieldSettings,\r\n    }\r\n\r\n    res.json({success : true, settings: settings, message: \"Settings fetched!\"});\r\n}\r\n"],"mappings":"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"}},"mtime":1662918304247},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\polytechnics.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const express = require(\"express\");\n\nconst polytechnicRoutes = require(\"../controller/polytechnicsController.js\");\n\nconst router = express.Router();\nrouter.post(\"/allPolytechnics\", polytechnicRoutes.allPolytechnics);\nrouter.post(\"/create\", polytechnicRoutes.create);\nrouter.post(\"/delete\", polytechnicRoutes.delete);\nrouter.post(\"/update\", polytechnicRoutes.update);\nrouter.post(\"/settings\", polytechnicRoutes.settings);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInBvbHl0ZWNobmljUm91dGVzIiwicm91dGVyIiwiUm91dGVyIiwicG9zdCIsImFsbFBvbHl0ZWNobmljcyIsImNyZWF0ZSIsImRlbGV0ZSIsInVwZGF0ZSIsInNldHRpbmdzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXElDVDIxMDMtUHJvalxcRXhlbXB0aW9uQ2hlY2tlclxcc2VydmVyXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsicG9seXRlY2huaWNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuXHJcbmNvbnN0IHBvbHl0ZWNobmljUm91dGVzID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvcG9seXRlY2huaWNzQ29udHJvbGxlci5qc1wiKTtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9hbGxQb2x5dGVjaG5pY3NcIiwgcG9seXRlY2huaWNSb3V0ZXMuYWxsUG9seXRlY2huaWNzKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2NyZWF0ZVwiLCBwb2x5dGVjaG5pY1JvdXRlcy5jcmVhdGUpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvZGVsZXRlXCIsIHBvbHl0ZWNobmljUm91dGVzLmRlbGV0ZSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi91cGRhdGVcIiwgcG9seXRlY2huaWNSb3V0ZXMudXBkYXRlKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3NldHRpbmdzXCIsIHBvbHl0ZWNobmljUm91dGVzLnNldHRpbmdzKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBRUEsTUFBTUMsaUJBQWlCLEdBQUdELE9BQU8sQ0FBQyx5Q0FBRCxDQUFqQzs7QUFFQSxNQUFNRSxNQUFNLEdBQUdILE9BQU8sQ0FBQ0ksTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLGtCQUFaLEVBQWdDSCxpQkFBaUIsQ0FBQ0ksZUFBbEQ7QUFFQUgsTUFBTSxDQUFDRSxJQUFQLENBQVksU0FBWixFQUF1QkgsaUJBQWlCLENBQUNLLE1BQXpDO0FBRUFKLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFNBQVosRUFBdUJILGlCQUFpQixDQUFDTSxNQUF6QztBQUVBTCxNQUFNLENBQUNFLElBQVAsQ0FBWSxTQUFaLEVBQXVCSCxpQkFBaUIsQ0FBQ08sTUFBekM7QUFFQU4sTUFBTSxDQUFDRSxJQUFQLENBQVksV0FBWixFQUF5QkgsaUJBQWlCLENBQUNRLFFBQTNDO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlQsTUFBakIifQ==","map":{"version":3,"names":["express","require","polytechnicRoutes","router","Router","post","allPolytechnics","create","delete","update","settings","module","exports"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\routes\\","sources":["polytechnics.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\nconst polytechnicRoutes = require(\"../controller/polytechnicsController.js\");\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/allPolytechnics\", polytechnicRoutes.allPolytechnics);\r\n\r\nrouter.post(\"/create\", polytechnicRoutes.create);\r\n\r\nrouter.post(\"/delete\", polytechnicRoutes.delete);\r\n\r\nrouter.post(\"/update\", polytechnicRoutes.update);\r\n\r\nrouter.post(\"/settings\", polytechnicRoutes.settings);\r\n\r\nmodule.exports = router;\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,yCAAD,CAAjC;;AAEA,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,kBAAZ,EAAgCH,iBAAiB,CAACI,eAAlD;AAEAH,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,iBAAiB,CAACK,MAAzC;AAEAJ,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,iBAAiB,CAACM,MAAzC;AAEAL,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,iBAAiB,CAACO,MAAzC;AAEAN,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBH,iBAAiB,CAACQ,QAA3C;AAEAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB"}},"mtime":1662876126683},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\polytechnicsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const knex = require(\"../database.js\");\n\nexports.allPolytechnics = async (req, res) => {\n  knex.select(\"*\").from(\"Polytechnics\").then(data => {\n    res.json({\n      success: true,\n      data,\n      message: \"Polytechnics fetched!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.create = async (req, res) => {\n  knex.insert({\n    \"polytechnic name\": req.body[\"polytechnic name\"]\n  }).into(\"Polytechnics\").then(data => {\n    res.json({\n      success: true,\n      data,\n      message: \"Module created!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.delete = async (req, res) => {\n  const {\n    pid\n  } = req.body;\n  knex.delete().from(\"Polytechnics\").where({\n    pid: pid\n  }).then(data => {\n    res.json({\n      success: true,\n      data,\n      message: \"Polytechnic deleted!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.update = async (req, res) => {\n  knex.update({\n    pid: req.body[\"pid\"],\n    \"polytechnic name\": req.body[\"polytechnic name\"]\n  }).from(\"Polytechnics\").where({\n    pid: pid\n  }).then(data => {\n    knex.select(\"*\").from(\"Polytechnics\").then(data => {\n      res.json({\n        success: true,\n        data,\n        message: \"Polytechnics fetched!\"\n      });\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.settings = async (req, res) => {\n  const columnSettings = {\n    // Configures the headers of the table\n    // Pls match header names with column names (case sensitive!)\n    headers: [\"pid\", \"polytechnic name\"]\n  };\n  const fieldSettings = {\n    // Configures the fields of the table\n    \"pid\": {\n      type: \"number\",\n      editable: false,\n      primaryKey: true,\n      displayLabel: \"Polytechnic ID\"\n    },\n    \"polytechnic name\": {\n      type: \"text\",\n      editable: true,\n      displayLabel: \"Polytechnic Name\"\n    }\n  };\n  const settings = {\n    columnSettings: columnSettings,\n    fieldSettings: fieldSettings\n  };\n  res.json({\n    success: true,\n    settings: settings,\n    message: \"Settings fetched!\"\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJrbmV4IiwicmVxdWlyZSIsImV4cG9ydHMiLCJhbGxQb2x5dGVjaG5pY3MiLCJyZXEiLCJyZXMiLCJzZWxlY3QiLCJmcm9tIiwidGhlbiIsImRhdGEiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJjYXRjaCIsImVyciIsImNyZWF0ZSIsImluc2VydCIsImJvZHkiLCJpbnRvIiwiZGVsZXRlIiwicGlkIiwid2hlcmUiLCJ1cGRhdGUiLCJzZXR0aW5ncyIsImNvbHVtblNldHRpbmdzIiwiaGVhZGVycyIsImZpZWxkU2V0dGluZ3MiLCJ0eXBlIiwiZWRpdGFibGUiLCJwcmltYXJ5S2V5IiwiZGlzcGxheUxhYmVsIl0sInNvdXJjZVJvb3QiOiJEOlxcSUNUMjEwMy1Qcm9qXFxFeGVtcHRpb25DaGVja2VyXFxzZXJ2ZXJcXGNvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsicG9seXRlY2huaWNzQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBrbmV4ID0gcmVxdWlyZShcIi4uL2RhdGFiYXNlLmpzXCIpO1xyXG5cclxuZXhwb3J0cy5hbGxQb2x5dGVjaG5pY3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGtuZXguc2VsZWN0KFwiKlwiKS5mcm9tKFwiUG9seXRlY2huaWNzXCIpLnRoZW4oZGF0YSA9PntcclxuICAgICAgICByZXMuanNvbih7c3VjY2Vzczp0cnVlLCBkYXRhLCBtZXNzYWdlOiBcIlBvbHl0ZWNobmljcyBmZXRjaGVkIVwifSk7XHJcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOmZhbHNlLCBtZXNzYWdlOiBlcnIubWVzc2FnZX0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydHMuY3JlYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBrbmV4Lmluc2VydCh7XCJwb2x5dGVjaG5pYyBuYW1lXCI6IHJlcS5ib2R5W1wicG9seXRlY2huaWMgbmFtZVwiXX0pLmludG8oXCJQb2x5dGVjaG5pY3NcIikudGhlbihkYXRhID0+e1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOnRydWUsIGRhdGEsIG1lc3NhZ2U6IFwiTW9kdWxlIGNyZWF0ZWQhXCJ9KTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6ZmFsc2UsIG1lc3NhZ2U6IGVyci5tZXNzYWdlfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0cy5kZWxldGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHtwaWR9ID0gcmVxLmJvZHk7XHJcbiAgICBrbmV4LmRlbGV0ZSgpLmZyb20oXCJQb2x5dGVjaG5pY3NcIikud2hlcmUoe3BpZDogcGlkfSkudGhlbihkYXRhID0+e1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOiB0cnVlLCBkYXRhLCBtZXNzYWdlOiBcIlBvbHl0ZWNobmljIGRlbGV0ZWQhXCJ9KTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6ZmFsc2UsIG1lc3NhZ2U6IGVyci5tZXNzYWdlfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0cy51cGRhdGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGtuZXgudXBkYXRlKHtwaWQ6IHJlcS5ib2R5W1wicGlkXCJdLCBcInBvbHl0ZWNobmljIG5hbWVcIjogcmVxLmJvZHlbXCJwb2x5dGVjaG5pYyBuYW1lXCJdfSkuZnJvbShcIlBvbHl0ZWNobmljc1wiKS53aGVyZSh7cGlkOiBwaWR9KS50aGVuKGRhdGEgPT57XHJcbiAgICAgICAga25leC5zZWxlY3QoXCIqXCIpLmZyb20oXCJQb2x5dGVjaG5pY3NcIikudGhlbihkYXRhID0+eyBcclxuICAgICAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6dHJ1ZSwgZGF0YSwgbWVzc2FnZTogXCJQb2x5dGVjaG5pY3MgZmV0Y2hlZCFcIn0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOmZhbHNlLCBtZXNzYWdlOiBlcnIubWVzc2FnZX0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydHMuc2V0dGluZ3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IGNvbHVtblNldHRpbmdzID0ge1xyXG4gICAgICAgIC8vIENvbmZpZ3VyZXMgdGhlIGhlYWRlcnMgb2YgdGhlIHRhYmxlXHJcbiAgICAgICAgLy8gUGxzIG1hdGNoIGhlYWRlciBuYW1lcyB3aXRoIGNvbHVtbiBuYW1lcyAoY2FzZSBzZW5zaXRpdmUhKVxyXG4gICAgICAgIGhlYWRlcnM6IFtcclxuICAgICAgICAgICAgXCJwaWRcIixcclxuICAgICAgICAgICAgXCJwb2x5dGVjaG5pYyBuYW1lXCIsXHJcbiAgICAgICAgXSxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmaWVsZFNldHRpbmdzID0ge1xyXG4gICAgICAgIC8vIENvbmZpZ3VyZXMgdGhlIGZpZWxkcyBvZiB0aGUgdGFibGVcclxuICAgICAgICBcInBpZFwiOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXHJcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcclxuICAgICAgICAgICAgZGlzcGxheUxhYmVsOiBcIlBvbHl0ZWNobmljIElEXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInBvbHl0ZWNobmljIG5hbWVcIjoge1xyXG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGRpc3BsYXlMYWJlbDogXCJQb2x5dGVjaG5pYyBOYW1lXCIsXHJcbiAgICAgICAgfSxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzZXR0aW5ncyA9IHtcclxuICAgICAgICBjb2x1bW5TZXR0aW5nczogY29sdW1uU2V0dGluZ3MsXHJcbiAgICAgICAgZmllbGRTZXR0aW5nczogZmllbGRTZXR0aW5nc1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5qc29uKHtzdWNjZXNzOiB0cnVlLCBzZXR0aW5nczogc2V0dGluZ3MsIG1lc3NhZ2U6IFwiU2V0dGluZ3MgZmV0Y2hlZCFcIn0pO1xyXG59Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxnQkFBRCxDQUFwQjs7QUFFQUMsT0FBTyxDQUFDQyxlQUFSLEdBQTBCLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUMxQ0wsSUFBSSxDQUFDTSxNQUFMLENBQVksR0FBWixFQUFpQkMsSUFBakIsQ0FBc0IsY0FBdEIsRUFBc0NDLElBQXRDLENBQTJDQyxJQUFJLElBQUc7SUFDOUNKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTO01BQUNDLE9BQU8sRUFBQyxJQUFUO01BQWVGLElBQWY7TUFBcUJHLE9BQU8sRUFBRTtJQUE5QixDQUFUO0VBQ0gsQ0FGRCxFQUVHQyxLQUZILENBRVNDLEdBQUcsSUFBSTtJQUNaVCxHQUFHLENBQUNLLElBQUosQ0FBUztNQUFDQyxPQUFPLEVBQUMsS0FBVDtNQUFnQkMsT0FBTyxFQUFFRSxHQUFHLENBQUNGO0lBQTdCLENBQVQ7RUFDSCxDQUpEO0FBS0gsQ0FORDs7QUFRQVYsT0FBTyxDQUFDYSxNQUFSLEdBQWlCLE9BQU9YLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUNqQ0wsSUFBSSxDQUFDZ0IsTUFBTCxDQUFZO0lBQUMsb0JBQW9CWixHQUFHLENBQUNhLElBQUosQ0FBUyxrQkFBVDtFQUFyQixDQUFaLEVBQWdFQyxJQUFoRSxDQUFxRSxjQUFyRSxFQUFxRlYsSUFBckYsQ0FBMEZDLElBQUksSUFBRztJQUM3RkosR0FBRyxDQUFDSyxJQUFKLENBQVM7TUFBQ0MsT0FBTyxFQUFDLElBQVQ7TUFBZUYsSUFBZjtNQUFxQkcsT0FBTyxFQUFFO0lBQTlCLENBQVQ7RUFD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","map":{"version":3,"names":["knex","require","exports","allPolytechnics","req","res","select","from","then","data","json","success","message","catch","err","create","insert","body","into","delete","pid","where","update","settings","columnSettings","headers","fieldSettings","type","editable","primaryKey","displayLabel"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\controller\\","sources":["polytechnicsController.js"],"sourcesContent":["const knex = require(\"../database.js\");\r\n\r\nexports.allPolytechnics = async (req, res) => {\r\n    knex.select(\"*\").from(\"Polytechnics\").then(data =>{\r\n        res.json({success:true, data, message: \"Polytechnics fetched!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.create = async (req, res) => {\r\n    knex.insert({\"polytechnic name\": req.body[\"polytechnic name\"]}).into(\"Polytechnics\").then(data =>{\r\n        res.json({success:true, data, message: \"Module created!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.delete = async (req, res) => {\r\n    const {pid} = req.body;\r\n    knex.delete().from(\"Polytechnics\").where({pid: pid}).then(data =>{\r\n        res.json({success: true, data, message: \"Polytechnic deleted!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.update = async (req, res) => {\r\n    knex.update({pid: req.body[\"pid\"], \"polytechnic name\": req.body[\"polytechnic name\"]}).from(\"Polytechnics\").where({pid: pid}).then(data =>{\r\n        knex.select(\"*\").from(\"Polytechnics\").then(data =>{ \r\n            res.json({success:true, data, message: \"Polytechnics fetched!\"});\r\n        })\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.settings = async (req, res) => {\r\n    const columnSettings = {\r\n        // Configures the headers of the table\r\n        // Pls match header names with column names (case sensitive!)\r\n        headers: [\r\n            \"pid\",\r\n            \"polytechnic name\",\r\n        ],\r\n    }\r\n\r\n    const fieldSettings = {\r\n        // Configures the fields of the table\r\n        \"pid\": {\r\n            type: \"number\",\r\n            editable: false,\r\n            primaryKey: true,\r\n            displayLabel: \"Polytechnic ID\",\r\n        },\r\n        \"polytechnic name\": {\r\n            type: \"text\",\r\n            editable: true,\r\n            displayLabel: \"Polytechnic Name\",\r\n        },\r\n    }\r\n\r\n    const settings = {\r\n        columnSettings: columnSettings,\r\n        fieldSettings: fieldSettings\r\n    }\r\n\r\n    res.json({success: true, settings: settings, message: \"Settings fetched!\"});\r\n}"],"mappings":"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"}},"mtime":1662918326676},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\routes\\\\university.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const express = require(\"express\");\n\nconst universityRoutes = require(\"../controller/universitiesController.js\");\n\nconst router = express.Router();\nrouter.post(\"/allUniversities\", universityRoutes.allUniversities);\nrouter.post(\"/create\", universityRoutes.create);\nrouter.post(\"/delete\", universityRoutes.delete);\nrouter.post(\"/update\", universityRoutes.update);\nrouter.post(\"/settings\", universityRoutes.settings);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInVuaXZlcnNpdHlSb3V0ZXMiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiYWxsVW5pdmVyc2l0aWVzIiwiY3JlYXRlIiwiZGVsZXRlIiwidXBkYXRlIiwic2V0dGluZ3MiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcSUNUMjEwMy1Qcm9qXFxFeGVtcHRpb25DaGVja2VyXFxzZXJ2ZXJcXHJvdXRlc1xcIiwic291cmNlcyI6WyJ1bml2ZXJzaXR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuXHJcbmNvbnN0IHVuaXZlcnNpdHlSb3V0ZXMgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci91bml2ZXJzaXRpZXNDb250cm9sbGVyLmpzXCIpO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2FsbFVuaXZlcnNpdGllc1wiLCB1bml2ZXJzaXR5Um91dGVzLmFsbFVuaXZlcnNpdGllcyk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9jcmVhdGVcIiwgdW5pdmVyc2l0eVJvdXRlcy5jcmVhdGUpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvZGVsZXRlXCIsIHVuaXZlcnNpdHlSb3V0ZXMuZGVsZXRlKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3VwZGF0ZVwiLCB1bml2ZXJzaXR5Um91dGVzLnVwZGF0ZSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9zZXR0aW5nc1wiLCB1bml2ZXJzaXR5Um91dGVzLnNldHRpbmdzKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBRUEsTUFBTUMsZ0JBQWdCLEdBQUdELE9BQU8sQ0FBQyx5Q0FBRCxDQUFoQzs7QUFFQSxNQUFNRSxNQUFNLEdBQUdILE9BQU8sQ0FBQ0ksTUFBUixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLGtCQUFaLEVBQWdDSCxnQkFBZ0IsQ0FBQ0ksZUFBakQ7QUFFQUgsTUFBTSxDQUFDRSxJQUFQLENBQVksU0FBWixFQUF1QkgsZ0JBQWdCLENBQUNLLE1BQXhDO0FBRUFKLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZLFNBQVosRUFBdUJILGdCQUFnQixDQUFDTSxNQUF4QztBQUVBTCxNQUFNLENBQUNFLElBQVAsQ0FBWSxTQUFaLEVBQXVCSCxnQkFBZ0IsQ0FBQ08sTUFBeEM7QUFFQU4sTUFBTSxDQUFDRSxJQUFQLENBQVksV0FBWixFQUF5QkgsZ0JBQWdCLENBQUNRLFFBQTFDO0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlQsTUFBakIifQ==","map":{"version":3,"names":["express","require","universityRoutes","router","Router","post","allUniversities","create","delete","update","settings","module","exports"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\routes\\","sources":["university.js"],"sourcesContent":["const express = require(\"express\");\r\n\r\nconst universityRoutes = require(\"../controller/universitiesController.js\");\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/allUniversities\", universityRoutes.allUniversities);\r\n\r\nrouter.post(\"/create\", universityRoutes.create);\r\n\r\nrouter.post(\"/delete\", universityRoutes.delete);\r\n\r\nrouter.post(\"/update\", universityRoutes.update);\r\n\r\nrouter.post(\"/settings\", universityRoutes.settings);\r\n\r\nmodule.exports = router;\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,gBAAgB,GAAGD,OAAO,CAAC,yCAAD,CAAhC;;AAEA,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,kBAAZ,EAAgCH,gBAAgB,CAACI,eAAjD;AAEAH,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,gBAAgB,CAACK,MAAxC;AAEAJ,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,gBAAgB,CAACM,MAAxC;AAEAL,MAAM,CAACE,IAAP,CAAY,SAAZ,EAAuBH,gBAAgB,CAACO,MAAxC;AAEAN,MAAM,CAACE,IAAP,CAAY,WAAZ,EAAyBH,gBAAgB,CAACQ,QAA1C;AAEAC,MAAM,CAACC,OAAP,GAAiBT,MAAjB"}},"mtime":1662913499185},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"filename\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\\\\server\\\\controller\\\\universitiesController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\ICT2103-Proj\\\\ExemptionChecker\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"const knex = require(\"../database.js\");\n\nexports.allUniversities = async (req, res) => {\n  knex.select(\"*\").from(\"Universities\").then(data => {\n    res.json({\n      success: true,\n      data,\n      message: \"Universities fetched!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.create = async (req, res) => {\n  console.log(req.body);\n  knex.insert({\n    \"university name\": req.body[\"university name\"]\n  }).into(\"Universities\").then(universitdataData => {\n    res.json({\n      success: true,\n      data,\n      message: \"University created!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.delete = async (req, res) => {\n  const {\n    uid\n  } = req.body;\n  knex.delete().from(\"Universities\").where({\n    uid: uid\n  }).then(data => {\n    res.json({\n      success: true,\n      data,\n      message: \"University deleted!\"\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.update = async (req, res) => {\n  knex.update({\n    uid: req.body[\"uid\"],\n    \"university name\": req.body[\"university name\"]\n  }).from(\"Universities\").where({\n    uid: uid\n  }).then(data => {\n    knex.select(\"*\").from(\"Universities\").then(data => {\n      res.json({\n        success: true,\n        data,\n        message: \"Universities fetched!\"\n      });\n    });\n  }).catch(err => {\n    res.json({\n      success: false,\n      message: err.message\n    });\n  });\n};\n\nexports.settings = async (req, res) => {\n  const columnSettings = {\n    // Configures the headers of the table\n    // Pls match header names with column names (case sensitive!)\n    headers: [\"uid\", \"university name\"]\n  };\n  const fieldSettings = {\n    // Configures the fields of the table\n    \"uid\": {\n      type: \"number\",\n      editable: false,\n      primaryKey: true,\n      displayLabel: \"university ID\"\n    },\n    \"university name\": {\n      type: \"text\",\n      editable: true,\n      displayLabel: \"university Name\"\n    }\n  };\n  const settings = {\n    columnSettings: columnSettings,\n    fieldSettings: fieldSettings\n  };\n  res.json({\n    success: true,\n    settings,\n    message: \"Column settings fetched!\"\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJrbmV4IiwicmVxdWlyZSIsImV4cG9ydHMiLCJhbGxVbml2ZXJzaXRpZXMiLCJyZXEiLCJyZXMiLCJzZWxlY3QiLCJmcm9tIiwidGhlbiIsImRhdGEiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJjYXRjaCIsImVyciIsImNyZWF0ZSIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwiaW5zZXJ0IiwiaW50byIsInVuaXZlcnNpdGRhdGFEYXRhIiwiZGVsZXRlIiwidWlkIiwid2hlcmUiLCJ1cGRhdGUiLCJzZXR0aW5ncyIsImNvbHVtblNldHRpbmdzIiwiaGVhZGVycyIsImZpZWxkU2V0dGluZ3MiLCJ0eXBlIiwiZWRpdGFibGUiLCJwcmltYXJ5S2V5IiwiZGlzcGxheUxhYmVsIl0sInNvdXJjZVJvb3QiOiJEOlxcSUNUMjEwMy1Qcm9qXFxFeGVtcHRpb25DaGVja2VyXFxzZXJ2ZXJcXGNvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsidW5pdmVyc2l0aWVzQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBrbmV4ID0gcmVxdWlyZShcIi4uL2RhdGFiYXNlLmpzXCIpO1xyXG5cclxuZXhwb3J0cy5hbGxVbml2ZXJzaXRpZXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGtuZXguc2VsZWN0KFwiKlwiKS5mcm9tKFwiVW5pdmVyc2l0aWVzXCIpLnRoZW4oZGF0YSA9PntcclxuICAgICAgICByZXMuanNvbih7c3VjY2Vzczp0cnVlLCBkYXRhLCBtZXNzYWdlOiBcIlVuaXZlcnNpdGllcyBmZXRjaGVkIVwifSk7XHJcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOmZhbHNlLCBtZXNzYWdlOiBlcnIubWVzc2FnZX0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydHMuY3JlYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XHJcbiAgICBrbmV4Lmluc2VydCh7XCJ1bml2ZXJzaXR5IG5hbWVcIjogcmVxLmJvZHlbXCJ1bml2ZXJzaXR5IG5hbWVcIl19KS5pbnRvKFwiVW5pdmVyc2l0aWVzXCIpLnRoZW4odW5pdmVyc2l0ZGF0YURhdGEgPT57XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6dHJ1ZSwgZGF0YSwgbWVzc2FnZTogXCJVbml2ZXJzaXR5IGNyZWF0ZWQhXCJ9KTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6ZmFsc2UsIG1lc3NhZ2U6IGVyci5tZXNzYWdlfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0cy5kZWxldGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHt1aWR9ID0gcmVxLmJvZHk7XHJcbiAgICBrbmV4LmRlbGV0ZSgpLmZyb20oXCJVbml2ZXJzaXRpZXNcIikud2hlcmUoe3VpZDogdWlkfSkudGhlbihkYXRhID0+e1xyXG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOiB0cnVlLCBkYXRhLCBtZXNzYWdlOiBcIlVuaXZlcnNpdHkgZGVsZXRlZCFcIn0pO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuanNvbih7c3VjY2VzczpmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLnVwZGF0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGtuZXgudXBkYXRlKHt1aWQ6IHJlcS5ib2R5W1widWlkXCJdLCBcInVuaXZlcnNpdHkgbmFtZVwiOiByZXEuYm9keVtcInVuaXZlcnNpdHkgbmFtZVwiXX0pLmZyb20oXCJVbml2ZXJzaXRpZXNcIikud2hlcmUoe3VpZDogdWlkfSkudGhlbihkYXRhID0+e1xyXG4gICAgICAgIGtuZXguc2VsZWN0KFwiKlwiKS5mcm9tKFwiVW5pdmVyc2l0aWVzXCIpLnRoZW4oZGF0YSA9PnsgXHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOnRydWUsIGRhdGEsIG1lc3NhZ2U6IFwiVW5pdmVyc2l0aWVzIGZldGNoZWQhXCJ9KTtcclxuICAgICAgICB9KVxyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICByZXMuanNvbih7c3VjY2VzczpmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLnNldHRpbmdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgY29uc3QgY29sdW1uU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgLy8gQ29uZmlndXJlcyB0aGUgaGVhZGVycyBvZiB0aGUgdGFibGVcclxuICAgICAgICAvLyBQbHMgbWF0Y2ggaGVhZGVyIG5hbWVzIHdpdGggY29sdW1uIG5hbWVzIChjYXNlIHNlbnNpdGl2ZSEpXHJcbiAgICAgICAgaGVhZGVyczogW1xyXG4gICAgICAgICAgICBcInVpZFwiLFxyXG4gICAgICAgICAgICBcInVuaXZlcnNpdHkgbmFtZVwiLFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgXHJcbiAgICB9O1xyXG4gICAgY29uc3QgZmllbGRTZXR0aW5ncyA9IHtcclxuICAgICAgICAvLyBDb25maWd1cmVzIHRoZSBmaWVsZHMgb2YgdGhlIHRhYmxlXHJcbiAgICAgICAgXCJ1aWRcIjoge1xyXG4gICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHByaW1hcnlLZXk6IHRydWUsXHJcbiAgICAgICAgICAgIGRpc3BsYXlMYWJlbDogXCJ1bml2ZXJzaXR5IElEXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInVuaXZlcnNpdHkgbmFtZVwiOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgZGlzcGxheUxhYmVsOiBcInVuaXZlcnNpdHkgTmFtZVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgICAgICAgY29sdW1uU2V0dGluZ3M6IGNvbHVtblNldHRpbmdzLFxyXG4gICAgICAgIGZpZWxkU2V0dGluZ3M6IGZpZWxkU2V0dGluZ3NcclxuICAgIH1cclxuXHJcbiAgICByZXMuanNvbih7c3VjY2VzczogdHJ1ZSwgc2V0dGluZ3MsIG1lc3NhZ2U6IFwiQ29sdW1uIHNldHRpbmdzIGZldGNoZWQhXCJ9KTtcclxufSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsZ0JBQUQsQ0FBcEI7O0FBRUFDLE9BQU8sQ0FBQ0MsZUFBUixHQUEwQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDMUNMLElBQUksQ0FBQ00sTUFBTCxDQUFZLEdBQVosRUFBaUJDLElBQWpCLENBQXNCLGNBQXRCLEVBQXNDQyxJQUF0QyxDQUEyQ0MsSUFBSSxJQUFHO0lBQzlDSixHQUFHLENBQUNLLElBQUosQ0FBUztNQUFDQyxPQUFPLEVBQUMsSUFBVDtNQUFlRixJQUFmO01BQXFCRyxPQUFPLEVBQUU7SUFBOUIsQ0FBVDtFQUNILENBRkQsRUFFR0MsS0FGSCxDQUVTQyxHQUFHLElBQUk7SUFDWlQsR0FBRyxDQUFDSyxJQUFKLENBQVM7TUFBQ0MsT0FBTyxFQUFDLEtBQVQ7TUFBZ0JDLE9BQU8sRUFBRUUsR0FBRyxDQUFDRjtJQUE3QixDQUFUO0VBQ0gsQ0FKRDtBQUtILENBTkQ7O0FBUUFWLE9BQU8sQ0FBQ2EsTUFBUixHQUFpQixPQUFPWCxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDakNXLE9BQU8sQ0FBQ0MsR0FBUixDQUFZYixHQUFHLENBQUNjLElBQWhCO0VBQ0FsQixJQUFJLENBQUNtQixNQUFMLENBQVk7SUFBQyxtQkFBbUJmLEdBQUcsQ0FBQ2MsSUFBSixDQUFTLGlCQUFUO0VBQXBCLENBQVosRUFBOERFLElBQTlE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","map":{"version":3,"names":["knex","require","exports","allUniversities","req","res","select","from","then","data","json","success","message","catch","err","create","console","log","body","insert","into","universitdataData","delete","uid","where","update","settings","columnSettings","headers","fieldSettings","type","editable","primaryKey","displayLabel"],"sourceRoot":"D:\\ICT2103-Proj\\ExemptionChecker\\server\\controller\\","sources":["universitiesController.js"],"sourcesContent":["const knex = require(\"../database.js\");\r\n\r\nexports.allUniversities = async (req, res) => {\r\n    knex.select(\"*\").from(\"Universities\").then(data =>{\r\n        res.json({success:true, data, message: \"Universities fetched!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.create = async (req, res) => {\r\n    console.log(req.body);\r\n    knex.insert({\"university name\": req.body[\"university name\"]}).into(\"Universities\").then(universitdataData =>{\r\n        res.json({success:true, data, message: \"University created!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.delete = async (req, res) => {\r\n    const {uid} = req.body;\r\n    knex.delete().from(\"Universities\").where({uid: uid}).then(data =>{\r\n        res.json({success: true, data, message: \"University deleted!\"});\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.update = async (req, res) => {\r\n\r\n    knex.update({uid: req.body[\"uid\"], \"university name\": req.body[\"university name\"]}).from(\"Universities\").where({uid: uid}).then(data =>{\r\n        knex.select(\"*\").from(\"Universities\").then(data =>{ \r\n            res.json({success:true, data, message: \"Universities fetched!\"});\r\n        })\r\n    }).catch(err => {\r\n        res.json({success:false, message: err.message});\r\n    });\r\n}\r\n\r\nexports.settings = async (req, res) => {\r\n\r\n    const columnSettings = {\r\n        // Configures the headers of the table\r\n        // Pls match header names with column names (case sensitive!)\r\n        headers: [\r\n            \"uid\",\r\n            \"university name\",\r\n        ],\r\n        \r\n    };\r\n    const fieldSettings = {\r\n        // Configures the fields of the table\r\n        \"uid\": {\r\n            type: \"number\",\r\n            editable: false,\r\n            primaryKey: true,\r\n            displayLabel: \"university ID\",\r\n        },\r\n        \"university name\": {\r\n            type: \"text\",\r\n            editable: true,\r\n            displayLabel: \"university Name\",\r\n        },\r\n    }\r\n\r\n    const settings = {\r\n        columnSettings: columnSettings,\r\n        fieldSettings: fieldSettings\r\n    }\r\n\r\n    res.json({success: true, settings, message: \"Column settings fetched!\"});\r\n}"],"mappings":"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"}},"mtime":1662918342030}}